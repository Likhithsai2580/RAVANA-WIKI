0000	23 20 41 63 74 69 6f 6e  20 45 78 63 65 70 74 69   # Action Excepti
0010	6f 6e 73 0d 0a 0d 0a 0d  0a 0d 0a 23 23 20 54 61   ons........## Ta
0020	62 6c 65 20 6f 66 20 43  6f 6e 74 65 6e 74 73 0d   ble of Contents.
0030	0a 31 2e 20 5b 45 78 63  65 70 74 69 6f 6e 20 48   .1. [Exception H
0040	69 65 72 61 72 63 68 79  5d 28 23 65 78 63 65 70   ierarchy](#excep
0050	74 69 6f 6e 2d 68 69 65  72 61 72 63 68 79 29 0d   tion-hierarchy).
0060	0a 32 2e 20 5b 45 78 63  65 70 74 69 6f 6e 20 54   .2. [Exception T
0070	79 70 65 73 20 61 6e 64  20 55 73 61 67 65 5d 28   ypes and Usage](
0080	23 65 78 63 65 70 74 69  6f 6e 2d 74 79 70 65 73   #exception-types
0090	2d 61 6e 64 2d 75 73 61  67 65 29 0d 0a 33 2e 20   -and-usage)..3. 
00a0	5b 45 78 63 65 70 74 69  6f 6e 20 48 61 6e 64 6c   [Exception Handl
00b0	69 6e 67 20 69 6e 20 41  63 74 69 6f 6e 4d 61 6e   ing in ActionMan
00c0	61 67 65 72 5d 28 23 65  78 63 65 70 74 69 6f 6e   ager](#exception
00d0	2d 68 61 6e 64 6c 69 6e  67 2d 69 6e 2d 61 63 74   -handling-in-act
00e0	69 6f 6e 6d 61 6e 61 67  65 72 29 0d 0a 34 2e 20   ionmanager)..4. 
00f0	5b 45 78 61 6d 70 6c 65  73 20 6f 66 20 48 61 6e   [Examples of Han
0100	64 6c 69 6e 67 20 41 63  74 69 6f 6e 20 46 61 69   dling Action Fai
0110	6c 75 72 65 73 5d 28 23  65 78 61 6d 70 6c 65 73   lures](#examples
0120	2d 6f 66 2d 68 61 6e 64  6c 69 6e 67 2d 61 63 74   -of-handling-act
0130	69 6f 6e 2d 66 61 69 6c  75 72 65 73 29 0d 0a 35   ion-failures)..5
0140	2e 20 5b 4c 6f 67 67 69  6e 67 20 61 6e 64 20 45   . [Logging and E
0150	72 72 6f 72 20 52 65 70  6f 72 74 69 6e 67 20 50   rror Reporting P
0160	72 61 63 74 69 63 65 73  5d 28 23 6c 6f 67 67 69   ractices](#loggi
0170	6e 67 2d 61 6e 64 2d 65  72 72 6f 72 2d 72 65 70   ng-and-error-rep
0180	6f 72 74 69 6e 67 2d 70  72 61 63 74 69 63 65 73   orting-practices
0190	29 0d 0a 36 2e 20 5b 43  72 65 61 74 69 6e 67 20   )..6. [Creating 
01a0	43 75 73 74 6f 6d 20 45  78 63 65 70 74 69 6f 6e   Custom Exception
01b0	20 54 79 70 65 73 5d 28  23 63 72 65 61 74 69 6e    Types](#creatin
01c0	67 2d 63 75 73 74 6f 6d  2d 65 78 63 65 70 74 69   g-custom-excepti
01d0	6f 6e 2d 74 79 70 65 73  29 0d 0a 0d 0a 23 23 20   on-types)....## 
01e0	45 78 63 65 70 74 69 6f  6e 20 48 69 65 72 61 72   Exception Hierar
01f0	63 68 79 0d 0a 0d 0a 54  68 65 20 65 78 63 65 70   chy....The excep
0200	74 69 6f 6e 20 68 69 65  72 61 72 63 68 79 20 66   tion hierarchy f
0210	6f 72 20 61 63 74 69 6f  6e 2d 72 65 6c 61 74 65   or action-relate
0220	64 20 65 72 72 6f 72 73  20 69 73 20 73 74 72 75   d errors is stru
0230	63 74 75 72 65 64 20 74  6f 20 70 72 6f 76 69 64   ctured to provid
0240	65 20 63 6c 65 61 72 20  63 61 74 65 67 6f 72 69   e clear categori
0250	7a 61 74 69 6f 6e 20 61  6e 64 20 69 6e 68 65 72   zation and inher
0260	69 74 61 6e 63 65 20 66  6f 72 20 64 69 66 66 65   itance for diffe
0270	72 65 6e 74 20 74 79 70  65 73 20 6f 66 20 66 61   rent types of fa
0280	69 6c 75 72 65 73 2e 20  54 68 65 20 62 61 73 65   ilures. The base
0290	20 63 6c 61 73 73 20 60  41 63 74 69 6f 6e 45 72    class `ActionEr
02a0	72 6f 72 60 20 73 65 72  76 65 73 20 61 73 20 74   ror` serves as t
02b0	68 65 20 72 6f 6f 74 20  66 6f 72 20 61 6c 6c 20   he root for all 
02c0	61 63 74 69 6f 6e 2d 73  70 65 63 69 66 69 63 20   action-specific 
02d0	65 78 63 65 70 74 69 6f  6e 73 2c 20 77 68 69 6c   exceptions, whil
02e0	65 20 60 41 63 74 69 6f  6e 45 78 63 65 70 74 69   e `ActionExcepti
02f0	6f 6e 60 20 69 73 20 75  73 65 64 20 66 6f 72 20   on` is used for 
0300	65 78 65 63 75 74 69 6f  6e 2d 6c 65 76 65 6c 20   execution-level 
0310	66 61 69 6c 75 72 65 73  2e 0d 0a 0d 0a 60 60 60   failures.....```
0320	6d 65 72 6d 61 69 64 0d  0a 63 6c 61 73 73 44 69   mermaid..classDi
0330	61 67 72 61 6d 0d 0a 20  63 6c 61 73 73 20 45 78   agram.. class Ex
0340	63 65 70 74 69 6f 6e 20  7b 0d 0a 20 3c 3c 62 61   ception {.. <<ba
0350	73 65 3e 3e 0d 0a 20 7d  0d 0a 20 63 6c 61 73 73   se>>.. }.. class
0360	20 41 63 74 69 6f 6e 45  72 72 6f 72 20 7b 0d 0a    ActionError {..
0370	20 3c 3c 45 78 63 65 70  74 69 6f 6e 3e 3e 0d 0a    <<Exception>>..
0380	20 7d 0d 0a 20 63 6c 61  73 73 20 49 6e 76 61 6c    }.. class Inval
0390	69 64 41 63 74 69 6f 6e  45 72 72 6f 72 20 7b 0d   idActionError {.
03a0	0a 20 3c 3c 45 78 63 65  70 74 69 6f 6e 3e 3e 0d   . <<Exception>>.
03b0	0a 20 7d 0d 0a 20 63 6c  61 73 73 20 49 6e 76 61   . }.. class Inva
03c0	6c 69 64 41 63 74 69 6f  6e 50 61 72 61 6d 73 20   lidActionParams 
03d0	7b 0d 0a 20 3c 3c 45 78  63 65 70 74 69 6f 6e 3e   {.. <<Exception>
03e0	3e 0d 0a 20 7d 0d 0a 20  63 6c 61 73 73 20 41 63   >.. }.. class Ac
03f0	74 69 6f 6e 45 78 63 65  70 74 69 6f 6e 20 7b 0d   tionException {.
0400	0a 20 3c 3c 45 78 63 65  70 74 69 6f 6e 3e 3e 0d   . <<Exception>>.
0410	0a 20 7d 0d 0a 20 41 63  74 69 6f 6e 45 72 72 6f   . }.. ActionErro
0420	72 20 3c 7c 2d 2d 20 49  6e 76 61 6c 69 64 41 63   r <|-- InvalidAc
0430	74 69 6f 6e 45 72 72 6f  72 0d 0a 20 41 63 74 69   tionError.. Acti
0440	6f 6e 45 72 72 6f 72 20  3c 7c 2d 2d 20 49 6e 76   onError <|-- Inv
0450	61 6c 69 64 41 63 74 69  6f 6e 50 61 72 61 6d 73   alidActionParams
0460	0d 0a 20 45 78 63 65 70  74 69 6f 6e 20 3c 7c 2d   .. Exception <|-
0470	2d 20 41 63 74 69 6f 6e  45 72 72 6f 72 0d 0a 20   - ActionError.. 
0480	45 78 63 65 70 74 69 6f  6e 20 3c 7c 2d 2d 20 41   Exception <|-- A
0490	63 74 69 6f 6e 45 78 63  65 70 74 69 6f 6e 0d 0a   ctionException..
04a0	60 60 60 0d 0a 0d 0a 2a  2a 44 69 61 67 72 61 6d   ```....**Diagram
04b0	20 73 6f 75 72 63 65 73  2a 2a 0d 0a 2d 20 5b 63    sources**..- [c
04c0	6f 72 65 2f 61 63 74 69  6f 6e 73 2f 65 78 63 65   ore/actions/exce
04d0	70 74 69 6f 6e 73 2e 70  79 5d 28 66 69 6c 65 3a   ptions.py](file:
04e0	2f 2f 63 6f 72 65 2f 61  63 74 69 6f 6e 73 2f 65   //core/actions/e
04f0	78 63 65 70 74 69 6f 6e  73 2e 70 79 23 4c 30 2d   xceptions.py#L0-
0500	4c 31 34 29 0d 0a 0d 0a  2a 2a 53 65 63 74 69 6f   L14)....**Sectio
0510	6e 20 73 6f 75 72 63 65  73 2a 2a 0d 0a 2d 20 5b   n sources**..- [
0520	63 6f 72 65 2f 61 63 74  69 6f 6e 73 2f 65 78 63   core/actions/exc
0530	65 70 74 69 6f 6e 73 2e  70 79 5d 28 66 69 6c 65   eptions.py](file
0540	3a 2f 2f 63 6f 72 65 2f  61 63 74 69 6f 6e 73 2f   ://core/actions/
0550	65 78 63 65 70 74 69 6f  6e 73 2e 70 79 23 4c 30   exceptions.py#L0
0560	2d 4c 31 34 29 0d 0a 0d  0a 23 23 20 45 78 63 65   -L14)....## Exce
0570	70 74 69 6f 6e 20 54 79  70 65 73 20 61 6e 64 20   ption Types and 
0580	55 73 61 67 65 0d 0a 0d  0a 23 23 23 20 41 63 74   Usage....### Act
0590	69 6f 6e 45 72 72 6f 72  0d 0a 3a 20 42 61 73 65   ionError..: Base
05a0	20 63 6c 61 73 73 20 66  6f 72 20 61 6c 6c 20 61    class for all a
05b0	63 74 69 6f 6e 2d 72 65  6c 61 74 65 64 20 65 78   ction-related ex
05c0	63 65 70 74 69 6f 6e 73  2e 20 49 74 20 70 72 6f   ceptions. It pro
05d0	76 69 64 65 73 20 61 20  63 6f 6d 6d 6f 6e 20 69   vides a common i
05e0	6e 68 65 72 69 74 61 6e  63 65 20 70 6f 69 6e 74   nheritance point
05f0	20 66 6f 72 20 64 6f 6d  61 69 6e 2d 73 70 65 63    for domain-spec
0600	69 66 69 63 20 65 72 72  6f 72 73 2e 0d 0a 0d 0a   ific errors.....
0610	23 23 23 20 49 6e 76 61  6c 69 64 41 63 74 69 6f   ### InvalidActio
0620	6e 45 72 72 6f 72 0d 0a  3a 20 52 61 69 73 65 64   nError..: Raised
0630	20 77 68 65 6e 20 61 6e  20 61 63 74 69 6f 6e 20    when an action 
0640	69 73 20 72 65 71 75 65  73 74 65 64 20 74 68 61   is requested tha
0650	74 20 64 6f 65 73 20 6e  6f 74 20 65 78 69 73 74   t does not exist
0660	20 69 6e 20 74 68 65 20  72 65 67 69 73 74 72 79    in the registry
0670	2e 20 54 68 69 73 20 6f  63 63 75 72 73 20 77 68   . This occurs wh
0680	65 6e 20 60 67 65 74 5f  61 63 74 69 6f 6e 28 29   en `get_action()
0690	60 20 69 73 20 63 61 6c  6c 65 64 20 77 69 74 68   ` is called with
06a0	20 61 20 6e 61 6d 65 20  6e 6f 74 20 70 72 65 73    a name not pres
06b0	65 6e 74 20 69 6e 20 74  68 65 20 72 65 67 69 73   ent in the regis
06c0	74 72 79 2e 0d 0a 0d 0a  23 23 23 20 49 6e 76 61   try.....### Inva
06d0	6c 69 64 41 63 74 69 6f  6e 50 61 72 61 6d 73 0d   lidActionParams.
06e0	0a 3a 20 54 68 72 6f 77  6e 20 77 68 65 6e 20 70   .: Thrown when p
06f0	61 72 61 6d 65 74 65 72  73 20 70 61 73 73 65 64   arameters passed
0700	20 74 6f 20 61 6e 20 61  63 74 69 6f 6e 20 61 72    to an action ar
0710	65 20 69 6e 76 61 6c 69  64 65 69 74 68 65 72 20   e invalideither 
0720	6d 69 73 73 69 6e 67 20  72 65 71 75 69 72 65 64   missing required
0730	20 70 61 72 61 6d 65 74  65 72 73 20 6f 72 20 63    parameters or c
0740	6f 6e 74 61 69 6e 69 6e  67 20 75 6e 65 78 70 65   ontaining unexpe
0750	63 74 65 64 20 6f 6e 65  73 2e 20 54 68 69 73 20   cted ones. This 
0760	69 73 20 72 61 69 73 65  64 20 62 79 20 74 68 65   is raised by the
0770	20 60 76 61 6c 69 64 61  74 65 5f 70 61 72 61 6d    `validate_param
0780	73 28 29 60 20 6d 65 74  68 6f 64 20 69 6e 20 74   s()` method in t
0790	68 65 20 62 61 73 65 20  60 41 63 74 69 6f 6e 60   he base `Action`
07a0	20 63 6c 61 73 73 2e 0d  0a 0d 0a 23 23 23 20 41    class.....### A
07b0	63 74 69 6f 6e 45 78 63  65 70 74 69 6f 6e 0d 0a   ctionException..
07c0	3a 20 41 20 73 74 61 6e  64 61 6c 6f 6e 65 20 65   : A standalone e
07d0	78 63 65 70 74 69 6f 6e  20 63 6c 61 73 73 20 28   xception class (
07e0	6e 6f 74 20 69 6e 68 65  72 69 74 69 6e 67 20 66   not inheriting f
07f0	72 6f 6d 20 60 41 63 74  69 6f 6e 45 72 72 6f 72   rom `ActionError
0800	60 29 20 75 73 65 64 20  74 6f 20 73 69 67 6e 61   `) used to signa
0810	6c 20 65 78 65 63 75 74  69 6f 6e 20 66 61 69 6c   l execution fail
0820	75 72 65 73 20 64 75 72  69 6e 67 20 61 63 74 69   ures during acti
0830	6f 6e 20 70 72 6f 63 65  73 73 69 6e 67 2e 20 49   on processing. I
0840	74 20 69 73 20 72 61 69  73 65 64 20 69 6e 20 63   t is raised in c
0850	61 73 65 73 20 73 75 63  68 20 61 73 20 6d 69 73   ases such as mis
0860	73 69 6e 67 20 72 65 71  75 69 72 65 64 20 69 6e   sing required in
0870	70 75 74 73 20 69 6e 20  63 6f 64 69 6e 67 20 61   puts in coding a
0880	63 74 69 6f 6e 73 20 6f  72 20 77 68 65 6e 20 61   ctions or when a
0890	6e 20 61 63 74 69 6f 6e  20 63 61 6e 6e 6f 74 20   n action cannot 
08a0	62 65 20 66 6f 75 6e 64  20 64 75 72 69 6e 67 20   be found during 
08b0	65 78 65 63 75 74 69 6f  6e 2e 0d 0a 0d 0a 54 68   execution.....Th
08c0	65 73 65 20 65 78 63 65  70 74 69 6f 6e 73 20 61   ese exceptions a
08d0	72 65 20 72 61 69 73 65  64 20 69 6e 20 76 61 72   re raised in var
08e0	69 6f 75 73 20 63 6f 6e  74 65 78 74 73 3a 0d 0a   ious contexts:..
08f0	2d 20 60 49 6e 76 61 6c  69 64 41 63 74 69 6f 6e   - `InvalidAction
0900	50 61 72 61 6d 73 60 20  69 73 20 72 61 69 73 65   Params` is raise
0910	64 20 69 6e 20 60 41 63  74 69 6f 6e 2e 76 61 6c   d in `Action.val
0920	69 64 61 74 65 5f 70 61  72 61 6d 73 28 29 60 20   idate_params()` 
0930	77 68 65 6e 20 70 61 72  61 6d 65 74 65 72 20 76   when parameter v
0940	61 6c 69 64 61 74 69 6f  6e 20 66 61 69 6c 73 2e   alidation fails.
0950	0d 0a 2d 20 60 41 63 74  69 6f 6e 45 78 63 65 70   ..- `ActionExcep
0960	74 69 6f 6e 60 20 69 73  20 72 61 69 73 65 64 20   tion` is raised 
0970	69 6e 20 6d 75 6c 74 69  70 6c 65 20 61 63 74 69   in multiple acti
0980	6f 6e 20 69 6d 70 6c 65  6d 65 6e 74 61 74 69 6f   on implementatio
0990	6e 73 20 28 65 2e 67 2e  2c 20 60 57 72 69 74 65   ns (e.g., `Write
09a0	50 79 74 68 6f 6e 43 6f  64 65 41 63 74 69 6f 6e   PythonCodeAction
09b0	60 29 20 77 68 65 6e 20  72 65 71 75 69 72 65 64   `) when required
09c0	20 70 61 72 61 6d 65 74  65 72 73 20 61 72 65 20    parameters are 
09d0	6d 69 73 73 69 6e 67 20  6f 72 20 65 78 65 63 75   missing or execu
09e0	74 69 6f 6e 20 66 61 69  6c 73 2e 0d 0a 0d 0a 2a   tion fails.....*
09f0	2a 53 65 63 74 69 6f 6e  20 73 6f 75 72 63 65 73   *Section sources
0a00	2a 2a 0d 0a 2d 20 5b 63  6f 72 65 2f 61 63 74 69   **..- [core/acti
0a10	6f 6e 73 2f 65 78 63 65  70 74 69 6f 6e 73 2e 70   ons/exceptions.p
0a20	79 5d 28 66 69 6c 65 3a  2f 2f 63 6f 72 65 2f 61   y](file://core/a
0a30	63 74 69 6f 6e 73 2f 65  78 63 65 70 74 69 6f 6e   ctions/exception
0a40	73 2e 70 79 23 4c 30 2d  4c 31 34 29 0d 0a 2d 20   s.py#L0-L14)..- 
0a50	5b 63 6f 72 65 2f 61 63  74 69 6f 6e 73 2f 61 63   [core/actions/ac
0a60	74 69 6f 6e 2e 70 79 5d  28 66 69 6c 65 3a 2f 2f   tion.py](file://
0a70	63 6f 72 65 2f 61 63 74  69 6f 6e 73 2f 61 63 74   core/actions/act
0a80	69 6f 6e 2e 70 79 23 4c  34 36 2d 4c 35 30 29 0d   ion.py#L46-L50).
0a90	0a 2d 20 5b 63 6f 72 65  2f 61 63 74 69 6f 6e 73   .- [core/actions
0aa0	2f 63 6f 64 69 6e 67 2e  70 79 5d 28 66 69 6c 65   /coding.py](file
0ab0	3a 2f 2f 63 6f 72 65 2f  61 63 74 69 6f 6e 73 2f   ://core/actions/
0ac0	63 6f 64 69 6e 67 2e 70  79 23 4c 34 36 2d 4c 31   coding.py#L46-L1
0ad0	31 34 29 0d 0a 0d 0a 23  23 20 45 78 63 65 70 74   14)....## Except
0ae0	69 6f 6e 20 48 61 6e 64  6c 69 6e 67 20 69 6e 20   ion Handling in 
0af0	41 63 74 69 6f 6e 4d 61  6e 61 67 65 72 0d 0a 0d   ActionManager...
0b00	0a 54 68 65 20 60 41 63  74 69 6f 6e 4d 61 6e 61   .The `ActionMana
0b10	67 65 72 60 20 63 6c 61  73 73 20 68 61 6e 64 6c   ger` class handl
0b20	65 73 20 65 78 63 65 70  74 69 6f 6e 73 20 64 75   es exceptions du
0b30	72 69 6e 67 20 61 63 74  69 6f 6e 20 65 78 65 63   ring action exec
0b40	75 74 69 6f 6e 20 74 68  72 6f 75 67 68 20 61 20   ution through a 
0b50	73 74 72 75 63 74 75 72  65 64 20 74 72 79 2d 65   structured try-e
0b60	78 63 65 70 74 20 62 6c  6f 63 6b 20 69 6e 20 74   xcept block in t
0b70	68 65 20 60 65 78 65 63  75 74 65 5f 61 63 74 69   he `execute_acti
0b80	6f 6e 28 29 60 20 6d 65  74 68 6f 64 2e 20 49 74   on()` method. It
0b90	20 64 69 73 74 69 6e 67  75 69 73 68 65 73 20 62    distinguishes b
0ba0	65 74 77 65 65 6e 20 65  78 70 65 63 74 65 64 20   etween expected 
0bb0	60 41 63 74 69 6f 6e 45  78 63 65 70 74 69 6f 6e   `ActionException
0bc0	60 20 63 61 73 65 73 20  61 6e 64 20 75 6e 65 78   ` cases and unex
0bd0	70 65 63 74 65 64 20 67  65 6e 65 72 61 6c 20 65   pected general e
0be0	78 63 65 70 74 69 6f 6e  73 2e 0d 0a 0d 0a 57 68   xceptions.....Wh
0bf0	65 6e 20 61 6e 20 60 41  63 74 69 6f 6e 45 78 63   en an `ActionExc
0c00	65 70 74 69 6f 6e 60 20  69 73 20 63 61 75 67 68   eption` is caugh
0c10	74 3a 0d 0a 2d 20 54 68  65 20 65 72 72 6f 72 20   t:..- The error 
0c20	69 73 20 6c 6f 67 67 65  64 20 61 74 20 74 68 65   is logged at the
0c30	20 65 72 72 6f 72 20 6c  65 76 65 6c 2e 0d 0a 2d    error level...-
0c40	20 41 6e 20 61 63 74 69  6f 6e 20 6c 6f 67 20 69    An action log i
0c50	73 20 73 61 76 65 64 20  74 6f 20 74 68 65 20 64   s saved to the d
0c60	61 74 61 62 61 73 65 20  77 69 74 68 20 73 74 61   atabase with sta
0c70	74 75 73 20 27 65 72 72  6f 72 27 2e 0d 0a 2d 20   tus 'error'...- 
0c80	41 20 72 65 73 70 6f 6e  73 65 20 64 69 63 74 69   A response dicti
0c90	6f 6e 61 72 79 20 77 69  74 68 20 61 6e 20 22 65   onary with an "e
0ca0	72 72 6f 72 22 20 6b 65  79 20 69 73 20 72 65 74   rror" key is ret
0cb0	75 72 6e 65 64 2e 0d 0a  0d 0a 46 6f 72 20 75 6e   urned.....For un
0cc0	65 78 70 65 63 74 65 64  20 65 78 63 65 70 74 69   expected excepti
0cd0	6f 6e 73 3a 0d 0a 2d 20  46 75 6c 6c 20 74 72 61   ons:..- Full tra
0ce0	63 65 62 61 63 6b 20 69  73 20 6c 6f 67 67 65 64   ceback is logged
0cf0	20 75 73 69 6e 67 20 60  65 78 63 5f 69 6e 66 6f    using `exc_info
0d00	3d 54 72 75 65 60 2e 0d  0a 2d 20 54 68 65 20 65   =True`...- The e
0d10	72 72 6f 72 20 69 73 20  77 72 61 70 70 65 64 20   rror is wrapped 
0d20	69 6e 20 61 20 67 65 6e  65 72 69 63 20 6d 65 73   in a generic mes
0d30	73 61 67 65 20 61 6e 64  20 6c 6f 67 67 65 64 2e   sage and logged.
0d40	0d 0a 2d 20 41 20 66 61  6c 6c 62 61 63 6b 20 65   ..- A fallback e
0d50	72 72 6f 72 20 72 65 73  70 6f 6e 73 65 20 69 73   rror response is
0d60	20 72 65 74 75 72 6e 65  64 2e 0d 0a 0d 0a 54 68    returned.....Th
0d70	65 20 60 67 65 74 5f 61  63 74 69 6f 6e 28 29 60   e `get_action()`
0d80	20 6d 65 74 68 6f 64 20  69 6e 20 60 41 63 74 69    method in `Acti
0d90	6f 6e 52 65 67 69 73 74  72 79 60 20 72 61 69 73   onRegistry` rais
0da0	65 73 20 61 20 60 56 61  6c 75 65 45 72 72 6f 72   es a `ValueError
0db0	60 20 69 66 20 61 6e 20  61 63 74 69 6f 6e 20 69   ` if an action i
0dc0	73 20 6e 6f 74 20 66 6f  75 6e 64 2c 20 77 68 69   s not found, whi
0dd0	63 68 20 69 73 20 74 68  65 6e 20 63 6f 6e 76 65   ch is then conve
0de0	72 74 65 64 20 69 6e 74  6f 20 61 6e 20 60 41 63   rted into an `Ac
0df0	74 69 6f 6e 45 78 63 65  70 74 69 6f 6e 60 20 62   tionException` b
0e00	79 20 60 41 63 74 69 6f  6e 4d 61 6e 61 67 65 72   y `ActionManager
0e10	60 2e 0d 0a 0d 0a 60 60  60 6d 65 72 6d 61 69 64   `.....```mermaid
0e20	0d 0a 73 65 71 75 65 6e  63 65 44 69 61 67 72 61   ..sequenceDiagra
0e30	6d 0d 0a 70 61 72 74 69  63 69 70 61 6e 74 20 4c   m..participant L
0e40	4c 4d 20 61 73 20 22 4c  4c 4d 20 52 65 73 70 6f   LM as "LLM Respo
0e50	6e 73 65 22 0d 0a 70 61  72 74 69 63 69 70 61 6e   nse"..participan
0e60	74 20 41 4d 20 61 73 20  22 41 63 74 69 6f 6e 4d   t AM as "ActionM
0e70	61 6e 61 67 65 72 22 0d  0a 70 61 72 74 69 63 69   anager"..partici
0e80	70 61 6e 74 20 52 65 67  69 73 74 72 79 20 61 73   pant Registry as
0e90	20 22 41 63 74 69 6f 6e  52 65 67 69 73 74 72 79    "ActionRegistry
0ea0	22 0d 0a 70 61 72 74 69  63 69 70 61 6e 74 20 41   "..participant A
0eb0	63 74 69 6f 6e 20 61 73  20 22 41 63 74 69 6f 6e   ction as "Action
0ec0	2e 65 78 65 63 75 74 65  28 29 22 0d 0a 70 61 72   .execute()"..par
0ed0	74 69 63 69 70 61 6e 74  20 44 42 20 61 73 20 22   ticipant DB as "
0ee0	44 61 74 61 53 65 72 76  69 63 65 22 0d 0a 4c 4c   DataService"..LL
0ef0	4d 2d 3e 3e 41 4d 20 3a  20 64 65 63 69 73 69 6f   M->>AM : decisio
0f00	6e 20 28 72 61 77 5f 72  65 73 70 6f 6e 73 65 20   n (raw_response 
0f10	6f 72 20 61 63 74 69 6f  6e 20 64 69 63 74 29 0d   or action dict).
0f20	0a 41 4d 2d 3e 3e 41 4d  20 3a 20 50 61 72 73 65   .AM->>AM : Parse
0f30	20 4a 53 4f 4e 20 61 6e  64 20 65 78 74 72 61 63    JSON and extrac
0f40	74 20 61 63 74 69 6f 6e  20 64 61 74 61 0d 0a 61   t action data..a
0f50	6c 74 20 49 6e 76 61 6c  69 64 20 4a 53 4f 4e 0d   lt Invalid JSON.
0f60	0a 41 4d 2d 2d 3e 3e 41  4d 20 3a 20 4c 6f 67 20   .AM-->>AM : Log 
0f70	77 61 72 6e 69 6e 67 2c  20 72 65 74 75 72 6e 20   warning, return 
0f80	70 61 72 73 65 20 65 72  72 6f 72 0d 0a 65 6e 64   parse error..end
0f90	0d 0a 41 4d 2d 3e 3e 41  4d 20 3a 20 56 61 6c 69   ..AM->>AM : Vali
0fa0	64 61 74 65 20 61 63 74  69 6f 6e 20 61 6e 64 20   date action and 
0fb0	70 61 72 61 6d 73 0d 0a  61 6c 74 20 41 63 74 69   params..alt Acti
0fc0	6f 6e 20 6e 6f 74 20 66  6f 75 6e 64 0d 0a 41 4d   on not found..AM
0fd0	2d 3e 3e 52 65 67 69 73  74 72 79 20 3a 20 67 65   ->>Registry : ge
0fe0	74 5f 61 63 74 69 6f 6e  28 6e 61 6d 65 29 0d 0a   t_action(name)..
0ff0	52 65 67 69 73 74 72 79  2d 2d 78 20 41 4d 20 3a   Registry--x AM :
1000	20 52 61 69 73 65 73 20  56 61 6c 75 65 45 72 72    Raises ValueErr
1010	6f 72 0d 0a 41 4d 2d 3e  3e 41 4d 20 3a 20 52 61   or..AM->>AM : Ra
1020	69 73 65 73 20 41 63 74  69 6f 6e 45 78 63 65 70   ises ActionExcep
1030	74 69 6f 6e 0d 0a 65 6e  64 0d 0a 41 4d 2d 3e 3e   tion..end..AM->>
1040	41 63 74 69 6f 6e 20 3a  20 61 77 61 69 74 20 65   Action : await e
1050	78 65 63 75 74 65 28 2a  2a 70 61 72 61 6d 73 29   xecute(**params)
1060	0d 0a 61 6c 74 20 45 78  65 63 75 74 69 6f 6e 20   ..alt Execution 
1070	53 75 63 63 65 73 73 0d  0a 41 63 74 69 6f 6e 2d   Success..Action-
1080	2d 3e 3e 41 4d 20 3a 20  52 65 74 75 72 6e 20 72   ->>AM : Return r
1090	65 73 75 6c 74 0d 0a 41  4d 2d 3e 3e 44 42 20 3a   esult..AM->>DB :
10a0	20 4c 6f 67 20 73 75 63  63 65 73 73 0d 0a 41 4d    Log success..AM
10b0	2d 2d 3e 3e 43 61 6c 6c  65 72 20 3a 20 52 65 74   -->>Caller : Ret
10c0	75 72 6e 20 72 65 73 75  6c 74 0d 0a 65 6c 73 65   urn result..else
10d0	20 45 78 65 63 75 74 69  6f 6e 20 46 61 69 6c 75    Execution Failu
10e0	72 65 0d 0a 41 63 74 69  6f 6e 2d 2d 78 20 41 4d   re..Action--x AM
10f0	20 3a 20 52 61 69 73 65  73 20 41 63 74 69 6f 6e    : Raises Action
1100	45 78 63 65 70 74 69 6f  6e 0d 0a 41 4d 2d 3e 3e   Exception..AM->>
1110	41 4d 20 3a 20 4c 6f 67  20 65 72 72 6f 72 0d 0a   AM : Log error..
1120	41 4d 2d 3e 3e 44 42 20  3a 20 4c 6f 67 20 65 72   AM->>DB : Log er
1130	72 6f 72 0d 0a 41 4d 2d  2d 3e 3e 43 61 6c 6c 65   ror..AM-->>Calle
1140	72 20 3a 20 52 65 74 75  72 6e 20 65 72 72 6f 72   r : Return error
1150	20 6f 62 6a 65 63 74 0d  0a 65 6e 64 0d 0a 60 60    object..end..``
1160	60 0d 0a 0d 0a 2a 2a 44  69 61 67 72 61 6d 20 73   `....**Diagram s
1170	6f 75 72 63 65 73 2a 2a  0d 0a 2d 20 5b 63 6f 72   ources**..- [cor
1180	65 2f 61 63 74 69 6f 6e  5f 6d 61 6e 61 67 65 72   e/action_manager
1190	2e 70 79 5d 28 66 69 6c  65 3a 2f 2f 63 6f 72 65   .py](file://core
11a0	2f 61 63 74 69 6f 6e 5f  6d 61 6e 61 67 65 72 2e   /action_manager.
11b0	70 79 23 4c 36 32 2d 4c  31 32 36 29 0d 0a 2d 20   py#L62-L126)..- 
11c0	5b 63 6f 72 65 2f 61 63  74 69 6f 6e 73 2f 72 65   [core/actions/re
11d0	67 69 73 74 72 79 2e 70  79 5d 28 66 69 6c 65 3a   gistry.py](file:
11e0	2f 2f 63 6f 72 65 2f 61  63 74 69 6f 6e 73 2f 72   //core/actions/r
11f0	65 67 69 73 74 72 79 2e  70 79 23 4c 35 33 29 0d   egistry.py#L53).
1200	0a 0d 0a 2a 2a 53 65 63  74 69 6f 6e 20 73 6f 75   ...**Section sou
1210	72 63 65 73 2a 2a 0d 0a  2d 20 5b 63 6f 72 65 2f   rces**..- [core/
1220	61 63 74 69 6f 6e 5f 6d  61 6e 61 67 65 72 2e 70   action_manager.p
1230	79 5d 28 66 69 6c 65 3a  2f 2f 63 6f 72 65 2f 61   y](file://core/a
1240	63 74 69 6f 6e 5f 6d 61  6e 61 67 65 72 2e 70 79   ction_manager.py
1250	23 4c 36 32 2d 4c 31 32  36 29 0d 0a 0d 0a 23 23   #L62-L126)....##
1260	20 45 78 61 6d 70 6c 65  73 20 6f 66 20 48 61 6e    Examples of Han
1270	64 6c 69 6e 67 20 41 63  74 69 6f 6e 20 46 61 69   dling Action Fai
1280	6c 75 72 65 73 0d 0a 0d  0a 48 69 67 68 65 72 2d   lures....Higher-
1290	6c 65 76 65 6c 20 63 6f  6d 70 6f 6e 65 6e 74 73   level components
12a0	20 68 61 6e 64 6c 65 20  61 63 74 69 6f 6e 20 66    handle action f
12b0	61 69 6c 75 72 65 73 20  62 79 20 69 6e 73 70 65   ailures by inspe
12c0	63 74 69 6e 67 20 74 68  65 20 72 65 74 75 72 6e   cting the return
12d0	65 64 20 64 69 63 74 69  6f 6e 61 72 79 20 66 6f   ed dictionary fo
12e0	72 20 61 6e 20 22 65 72  72 6f 72 22 20 6b 65 79   r an "error" key
12f0	2e 20 46 6f 72 20 65 78  61 6d 70 6c 65 2c 20 69   . For example, i
1300	6e 20 74 68 65 20 64 65  63 69 73 69 6f 6e 20 65   n the decision e
1310	6e 67 69 6e 65 3a 0d 0a  0d 0a 60 60 60 70 79 74   ngine:....```pyt
1320	68 6f 6e 0d 0a 64 65 63  69 73 69 6f 6e 20 3d 20   hon..decision = 
1330	61 77 61 69 74 20 64 65  63 69 73 69 6f 6e 5f 6d   await decision_m
1340	61 6b 65 72 2e 6d 61 6b  65 5f 64 65 63 69 73 69   aker.make_decisi
1350	6f 6e 28 29 0d 0a 69 66  20 22 65 72 72 6f 72 22   on()..if "error"
1360	20 69 6e 20 64 65 63 69  73 69 6f 6e 3a 0d 0a 20    in decision:.. 
1370	6c 6f 67 67 65 72 2e 65  72 72 6f 72 28 66 22 44   logger.error(f"D
1380	65 63 69 73 69 6f 6e 20  66 61 69 6c 65 64 3a 20   ecision failed: 
1390	7b 64 65 63 69 73 69 6f  6e 5b 27 65 72 72 6f 72   {decision['error
13a0	27 5d 7d 22 29 0d 0a 20  23 20 54 72 69 67 67 65   ']}").. # Trigge
13b0	72 20 66 61 6c 6c 62 61  63 6b 20 62 65 68 61 76   r fallback behav
13c0	69 6f 72 20 6f 72 20 73  65 6c 66 2d 72 65 66 6c   ior or self-refl
13d0	65 63 74 69 6f 6e 0d 0a  20 61 77 61 69 74 20 73   ection.. await s
13e0	65 6c 66 2e 68 61 6e 64  6c 65 5f 66 61 69 6c 75   elf.handle_failu
13f0	72 65 28 64 65 63 69 73  69 6f 6e 29 0d 0a 65 6c   re(decision)..el
1400	73 65 3a 0d 0a 20 72 65  73 75 6c 74 20 3d 20 61   se:.. result = a
1410	77 61 69 74 20 61 63 74  69 6f 6e 5f 6d 61 6e 61   wait action_mana
1420	67 65 72 2e 65 78 65 63  75 74 65 5f 61 63 74 69   ger.execute_acti
1430	6f 6e 28 64 65 63 69 73  69 6f 6e 29 0d 0a 20 69   on(decision).. i
1440	66 20 22 65 72 72 6f 72  22 20 69 6e 20 72 65 73   f "error" in res
1450	75 6c 74 3a 0d 0a 20 6c  6f 67 67 65 72 2e 77 61   ult:.. logger.wa
1460	72 6e 69 6e 67 28 66 22  41 63 74 69 6f 6e 20 65   rning(f"Action e
1470	78 65 63 75 74 69 6f 6e  20 66 61 69 6c 65 64 3a   xecution failed:
1480	20 7b 72 65 73 75 6c 74  5b 27 65 72 72 6f 72 27    {result['error'
1490	5d 7d 22 29 0d 0a 20 23  20 4c 6f 67 20 74 6f 20   ]}").. # Log to 
14a0	61 64 61 70 74 69 76 65  20 6c 65 61 72 6e 69 6e   adaptive learnin
14b0	67 20 73 79 73 74 65 6d  0d 0a 20 61 77 61 69 74   g system.. await
14c0	20 6c 65 61 72 6e 69 6e  67 5f 65 6e 67 69 6e 65    learning_engine
14d0	2e 72 65 63 6f 72 64 5f  66 61 69 6c 75 72 65 28   .record_failure(
14e0	72 65 73 75 6c 74 29 0d  0a 60 60 60 0d 0a 0d 0a   result)..```....
14f0	54 68 65 20 60 45 6e 68  61 6e 63 65 64 41 63 74   The `EnhancedAct
1500	69 6f 6e 4d 61 6e 61 67  65 72 60 20 61 64 64 73   ionManager` adds
1510	20 74 69 6d 65 6f 75 74  20 68 61 6e 64 6c 69 6e    timeout handlin
1520	67 20 61 6e 64 20 63 61  63 68 69 6e 67 2c 20 77   g and caching, w
1530	72 61 70 70 69 6e 67 20  74 68 65 20 62 61 73 65   rapping the base
1540	20 60 65 78 65 63 75 74  65 5f 61 63 74 69 6f 6e    `execute_action
1550	28 29 60 20 63 61 6c 6c  20 69 6e 20 60 61 73 79   ()` call in `asy
1560	6e 63 69 6f 2e 77 61 69  74 5f 66 6f 72 28 29 60   ncio.wait_for()`
1570	20 74 6f 20 70 72 65 76  65 6e 74 20 68 61 6e 67    to prevent hang
1580	69 6e 67 20 61 63 74 69  6f 6e 73 2e 0d 0a 0d 0a   ing actions.....
1590	2a 2a 53 65 63 74 69 6f  6e 20 73 6f 75 72 63 65   **Section source
15a0	73 2a 2a 0d 0a 2d 20 5b  63 6f 72 65 2f 61 63 74   s**..- [core/act
15b0	69 6f 6e 5f 6d 61 6e 61  67 65 72 2e 70 79 5d 28   ion_manager.py](
15c0	66 69 6c 65 3a 2f 2f 63  6f 72 65 2f 61 63 74 69   file://core/acti
15d0	6f 6e 5f 6d 61 6e 61 67  65 72 2e 70 79 23 4c 38   on_manager.py#L8
15e0	39 2d 4c 31 32 36 29 0d  0a 2d 20 5b 63 6f 72 65   9-L126)..- [core
15f0	2f 65 6e 68 61 6e 63 65  64 5f 61 63 74 69 6f 6e   /enhanced_action
1600	5f 6d 61 6e 61 67 65 72  2e 70 79 5d 28 66 69 6c   _manager.py](fil
1610	65 3a 2f 2f 63 6f 72 65  2f 65 6e 68 61 6e 63 65   e://core/enhance
1620	64 5f 61 63 74 69 6f 6e  5f 6d 61 6e 61 67 65 72   d_action_manager
1630	2e 70 79 23 4c 33 34 2d  4c 36 30 29 0d 0a 0d 0a   .py#L34-L60)....
1640	23 23 20 4c 6f 67 67 69  6e 67 20 61 6e 64 20 45   ## Logging and E
1650	72 72 6f 72 20 52 65 70  6f 72 74 69 6e 67 20 50   rror Reporting P
1660	72 61 63 74 69 63 65 73  0d 0a 0d 0a 41 6c 6c 20   ractices....All 
1670	65 78 63 65 70 74 69 6f  6e 73 20 61 72 65 20 6c   exceptions are l
1680	6f 67 67 65 64 20 75 73  69 6e 67 20 74 68 65 20   ogged using the 
1690	73 74 61 6e 64 61 72 64  20 60 6c 6f 67 67 69 6e   standard `loggin
16a0	67 60 20 6d 6f 64 75 6c  65 20 77 69 74 68 20 73   g` module with s
16b0	74 72 75 63 74 75 72 65  64 20 6d 65 73 73 61 67   tructured messag
16c0	65 73 2e 20 54 68 65 20  60 41 63 74 69 6f 6e 4d   es. The `ActionM
16d0	61 6e 61 67 65 72 60 20  6c 6f 67 73 3a 0d 0a 2d   anager` logs:..-
16e0	20 49 6e 66 6f 2d 6c 65  76 65 6c 20 6d 65 73 73    Info-level mess
16f0	61 67 65 73 20 66 6f 72  20 61 63 74 69 6f 6e 20   ages for action 
1700	65 78 65 63 75 74 69 6f  6e 20 73 74 61 72 74 20   execution start 
1710	61 6e 64 20 73 75 63 63  65 73 73 2e 0d 0a 2d 20   and success...- 
1720	45 72 72 6f 72 2d 6c 65  76 65 6c 20 6d 65 73 73   Error-level mess
1730	61 67 65 73 20 66 6f 72  20 60 41 63 74 69 6f 6e   ages for `Action
1740	45 78 63 65 70 74 69 6f  6e 60 20 61 6e 64 20 75   Exception` and u
1750	6e 65 78 70 65 63 74 65  64 20 65 78 63 65 70 74   nexpected except
1760	69 6f 6e 73 2e 0d 0a 2d  20 46 75 6c 6c 20 73 74   ions...- Full st
1770	61 63 6b 20 74 72 61 63  65 73 20 66 6f 72 20 75   ack traces for u
1780	6e 68 61 6e 64 6c 65 64  20 65 78 63 65 70 74 69   nhandled excepti
1790	6f 6e 73 20 75 73 69 6e  67 20 60 65 78 63 5f 69   ons using `exc_i
17a0	6e 66 6f 3d 54 72 75 65  60 2e 0d 0a 0d 0a 41 63   nfo=True`.....Ac
17b0	74 69 6f 6e 20 6f 75 74  63 6f 6d 65 73 20 28 73   tion outcomes (s
17c0	75 63 63 65 73 73 20 6f  72 20 65 72 72 6f 72 29   uccess or error)
17d0	20 61 72 65 20 70 65 72  73 69 73 74 65 64 20 76    are persisted v
17e0	69 61 20 60 64 61 74 61  5f 73 65 72 76 69 63 65   ia `data_service
17f0	2e 73 61 76 65 5f 61 63  74 69 6f 6e 5f 6c 6f 67   .save_action_log
1800	28 29 60 2c 20 77 68 69  63 68 20 72 65 63 6f 72   ()`, which recor
1810	64 73 3a 0d 0a 2d 20 41  63 74 69 6f 6e 20 6e 61   ds:..- Action na
1820	6d 65 0d 0a 2d 20 50 61  72 61 6d 65 74 65 72 73   me..- Parameters
1830	20 28 61 73 20 73 74 72  69 6e 67 29 0d 0a 2d 20    (as string)..- 
1840	53 74 61 74 75 73 20 28  27 73 75 63 63 65 73 73   Status ('success
1850	27 20 6f 72 20 27 65 72  72 6f 72 27 29 0d 0a 2d   ' or 'error')..-
1860	20 52 65 73 75 6c 74 20  6f 72 20 65 72 72 6f 72    Result or error
1870	20 6d 65 73 73 61 67 65  0d 0a 0d 0a 54 68 69 73    message....This
1880	20 65 6e 61 62 6c 65 73  20 70 6f 73 74 2d 68 6f    enables post-ho
1890	63 20 61 6e 61 6c 79 73  69 73 20 61 6e 64 20 69   c analysis and i
18a0	6e 74 65 67 72 61 74 69  6f 6e 20 77 69 74 68 20   ntegration with 
18b0	6d 6f 64 75 6c 65 73 20  6c 69 6b 65 20 60 61 64   modules like `ad
18c0	61 70 74 69 76 65 5f 6c  65 61 72 6e 69 6e 67 60   aptive_learning`
18d0	20 61 6e 64 20 60 61 67  65 6e 74 5f 73 65 6c 66    and `agent_self
18e0	5f 72 65 66 6c 65 63 74  69 6f 6e 60 2e 0d 0a 0d   _reflection`....
18f0	0a 2a 2a 53 65 63 74 69  6f 6e 20 73 6f 75 72 63   .**Section sourc
1900	65 73 2a 2a 0d 0a 2d 20  5b 63 6f 72 65 2f 61 63   es**..- [core/ac
1910	74 69 6f 6e 5f 6d 61 6e  61 67 65 72 2e 70 79 5d   tion_manager.py]
1920	28 66 69 6c 65 3a 2f 2f  63 6f 72 65 2f 61 63 74   (file://core/act
1930	69 6f 6e 5f 6d 61 6e 61  67 65 72 2e 70 79 23 4c   ion_manager.py#L
1940	38 39 2d 4c 31 32 36 29  0d 0a 2d 20 5b 6d 6f 64   89-L126)..- [mod
1950	75 6c 65 73 2f 61 64 61  70 74 69 76 65 5f 6c 65   ules/adaptive_le
1960	61 72 6e 69 6e 67 2f 6c  65 61 72 6e 69 6e 67 5f   arning/learning_
1970	65 6e 67 69 6e 65 2e 70  79 5d 28 66 69 6c 65 3a   engine.py](file:
1980	2f 2f 6d 6f 64 75 6c 65  73 2f 61 64 61 70 74 69   //modules/adapti
1990	76 65 5f 6c 65 61 72 6e  69 6e 67 2f 6c 65 61 72   ve_learning/lear
19a0	6e 69 6e 67 5f 65 6e 67  69 6e 65 2e 70 79 23 4c   ning_engine.py#L
19b0	33 35 2d 4c 36 35 29 0d  0a 0d 0a 23 23 20 43 72   35-L65)....## Cr
19c0	65 61 74 69 6e 67 20 43  75 73 74 6f 6d 20 45 78   eating Custom Ex
19d0	63 65 70 74 69 6f 6e 20  54 79 70 65 73 0d 0a 0d   ception Types...
19e0	0a 54 6f 20 63 72 65 61  74 65 20 64 6f 6d 61 69   .To create domai
19f0	6e 2d 73 70 65 63 69 66  69 63 20 65 78 63 65 70   n-specific excep
1a00	74 69 6f 6e 73 20 77 68  69 6c 65 20 6d 61 69 6e   tions while main
1a10	74 61 69 6e 69 6e 67 20  62 61 63 6b 77 61 72 64   taining backward
1a20	20 63 6f 6d 70 61 74 69  62 69 6c 69 74 79 3a 0d    compatibility:.
1a30	0a 31 2e 20 49 6e 68 65  72 69 74 20 66 72 6f 6d   .1. Inherit from
1a40	20 60 41 63 74 69 6f 6e  45 72 72 6f 72 60 20 66    `ActionError` f
1a50	6f 72 20 76 61 6c 69 64  61 74 69 6f 6e 20 6f 72   or validation or
1a60	20 72 65 67 69 73 74 72  61 74 69 6f 6e 2d 72 65    registration-re
1a70	6c 61 74 65 64 20 65 72  72 6f 72 73 2e 0d 0a 32   lated errors...2
1a80	2e 20 55 73 65 20 60 41  63 74 69 6f 6e 45 78 63   . Use `ActionExc
1a90	65 70 74 69 6f 6e 60 20  66 6f 72 20 65 78 65 63   eption` for exec
1aa0	75 74 69 6f 6e 20 66 61  69 6c 75 72 65 73 20 75   ution failures u
1ab0	6e 6c 65 73 73 20 61 20  6d 6f 72 65 20 73 70 65   nless a more spe
1ac0	63 69 66 69 63 20 68 69  65 72 61 72 63 68 79 20   cific hierarchy 
1ad0	69 73 20 6e 65 65 64 65  64 2e 0d 0a 33 2e 20 50   is needed...3. P
1ae0	72 65 73 65 72 76 65 20  65 78 69 73 74 69 6e 67   reserve existing
1af0	20 65 78 63 65 70 74 69  6f 6e 20 74 79 70 65 73    exception types
1b00	20 69 6e 20 70 75 62 6c  69 63 20 41 50 49 73 20    in public APIs 
1b10	74 6f 20 61 76 6f 69 64  20 62 72 65 61 6b 69 6e   to avoid breakin
1b20	67 20 63 68 61 6e 67 65  73 2e 0d 0a 0d 0a 45 78   g changes.....Ex
1b30	61 6d 70 6c 65 20 6f 66  20 61 20 63 75 73 74 6f   ample of a custo
1b40	6d 20 65 78 63 65 70 74  69 6f 6e 3a 0d 0a 60 60   m exception:..``
1b50	60 70 79 74 68 6f 6e 0d  0a 63 6c 61 73 73 20 50   `python..class P
1b60	65 72 6d 69 73 73 69 6f  6e 44 65 6e 69 65 64 45   ermissionDeniedE
1b70	72 72 6f 72 28 41 63 74  69 6f 6e 45 72 72 6f 72   rror(ActionError
1b80	29 3a 0d 0a 20 22 22 22  52 61 69 73 65 64 20 77   ):.. """Raised w
1b90	68 65 6e 20 61 6e 20 61  63 74 69 6f 6e 20 63 61   hen an action ca
1ba0	6e 6e 6f 74 20 62 65 20  65 78 65 63 75 74 65 64   nnot be executed
1bb0	20 64 75 65 20 74 6f 20  69 6e 73 75 66 66 69 63    due to insuffic
1bc0	69 65 6e 74 20 70 65 72  6d 69 73 73 69 6f 6e 73   ient permissions
1bd0	2e 22 22 22 0d 0a 20 70  61 73 73 0d 0a 60 60 60   .""".. pass..```
1be0	0d 0a 0d 0a 57 68 65 6e  20 65 78 74 65 6e 64 69   ....When extendi
1bf0	6e 67 20 74 68 65 20 68  69 65 72 61 72 63 68 79   ng the hierarchy
1c00	2c 20 65 6e 73 75 72 65  20 74 68 61 74 20 65 78   , ensure that ex
1c10	69 73 74 69 6e 67 20 65  78 63 65 70 74 69 6f 6e   isting exception
1c20	20 68 61 6e 64 6c 65 72  73 20 28 77 68 69 63 68    handlers (which
1c30	20 6d 61 79 20 63 61 74  63 68 20 60 41 63 74 69    may catch `Acti
1c40	6f 6e 45 78 63 65 70 74  69 6f 6e 60 20 6f 72 20   onException` or 
1c50	60 41 63 74 69 6f 6e 45  72 72 6f 72 60 29 20 72   `ActionError`) r
1c60	65 6d 61 69 6e 20 66 75  6e 63 74 69 6f 6e 61 6c   emain functional
1c70	2e 20 46 6f 72 20 6e 65  77 20 65 78 63 65 70 74   . For new except
1c80	69 6f 6e 20 74 79 70 65  73 20 75 73 65 64 20 69   ion types used i
1c90	6e 20 65 78 65 63 75 74  69 6f 6e 20 63 6f 6e 74   n execution cont
1ca0	65 78 74 73 2c 20 63 6f  6e 73 69 64 65 72 20 77   exts, consider w
1cb0	72 61 70 70 69 6e 67 20  74 68 65 6d 20 69 6e 20   rapping them in 
1cc0	60 41 63 74 69 6f 6e 45  78 63 65 70 74 69 6f 6e   `ActionException
1cd0	60 20 69 66 20 74 68 65  79 20 6e 65 65 64 20 74   ` if they need t
1ce0	6f 20 62 65 20 68 61 6e  64 6c 65 64 20 75 6e 69   o be handled uni
1cf0	66 6f 72 6d 6c 79 20 62  79 20 60 41 63 74 69 6f   formly by `Actio
1d00	6e 4d 61 6e 61 67 65 72  60 2e 0d 0a 0d 0a 2a 2a   nManager`.....**
1d10	53 65 63 74 69 6f 6e 20  73 6f 75 72 63 65 73 2a   Section sources*
1d20	2a 0d 0a 2d 20 5b 63 6f  72 65 2f 61 63 74 69 6f   *..- [core/actio
1d30	6e 73 2f 65 78 63 65 70  74 69 6f 6e 73 2e 70 79   ns/exceptions.py
1d40	5d 28 66 69 6c 65 3a 2f  2f 63 6f 72 65 2f 61 63   ](file://core/ac
1d50	74 69 6f 6e 73 2f 65 78  63 65 70 74 69 6f 6e 73   tions/exceptions
1d60	2e 70 79 23 4c 30 2d 4c  31 34 29 0d 0a 2d 20 5b   .py#L0-L14)..- [
1d70	44 45 56 45 4c 4f 50 45  52 5f 47 55 49 44 45 2e   DEVELOPER_GUIDE.
1d80	6d 64 5d 28 66 69 6c 65  3a 2f 2f 44 45 56 45 4c   md](file://DEVEL
1d90	4f 50 45 52 5f 47 55 49  44 45 2e 6d 64 23 4c 31   OPER_GUIDE.md#L1
1da0	37 35 2d 4c 32 31 36 29  0d 0a 0d 0a 2a 2a 52 65   75-L216)....**Re
1db0	66 65 72 65 6e 63 65 64  20 46 69 6c 65 73 20 69   ferenced Files i
1dc0	6e 20 54 68 69 73 20 44  6f 63 75 6d 65 6e 74 2a   n This Document*
1dd0	2a 20 0d 0a 2d 20 5b 63  6f 72 65 2f 61 63 74 69   * ..- [core/acti
1de0	6f 6e 73 2f 65 78 63 65  70 74 69 6f 6e 73 2e 70   ons/exceptions.p
1df0	79 5d 28 66 69 6c 65 3a  2f 2f 63 6f 72 65 2f 61   y](file://core/a
1e00	63 74 69 6f 6e 73 2f 65  78 63 65 70 74 69 6f 6e   ctions/exception
1e10	73 2e 70 79 23 4c 30 2d  4c 31 34 29 0d 0a 2d 20   s.py#L0-L14)..- 
1e20	5b 63 6f 72 65 2f 61 63  74 69 6f 6e 5f 6d 61 6e   [core/action_man
1e30	61 67 65 72 2e 70 79 5d  28 66 69 6c 65 3a 2f 2f   ager.py](file://
1e40	63 6f 72 65 2f 61 63 74  69 6f 6e 5f 6d 61 6e 61   core/action_mana
1e50	67 65 72 2e 70 79 23 4c  30 2d 4c 31 32 36 29 0d   ger.py#L0-L126).
1e60	0a 2d 20 5b 63 6f 72 65  2f 61 63 74 69 6f 6e 73   .- [core/actions
1e70	2f 72 65 67 69 73 74 72  79 2e 70 79 5d 28 66 69   /registry.py](fi
1e80	6c 65 3a 2f 2f 63 6f 72  65 2f 61 63 74 69 6f 6e   le://core/action
1e90	73 2f 72 65 67 69 73 74  72 79 2e 70 79 23 4c 30   s/registry.py#L0
1ea0	2d 4c 37 34 29 0d 0a 2d  20 5b 63 6f 72 65 2f 61   -L74)..- [core/a
1eb0	63 74 69 6f 6e 73 2f 61  63 74 69 6f 6e 2e 70 79   ctions/action.py
1ec0	5d 28 66 69 6c 65 3a 2f  2f 63 6f 72 65 2f 61 63   ](file://core/ac
1ed0	74 69 6f 6e 73 2f 61 63  74 69 6f 6e 2e 70 79 23   tions/action.py#
1ee0	4c 30 2d 4c 36 32 29 0d  0a 2d 20 5b 63 6f 72 65   L0-L62)..- [core
1ef0	2f 61 63 74 69 6f 6e 73  2f 63 6f 64 69 6e 67 2e   /actions/coding.
1f00	70 79 5d 28 66 69 6c 65  3a 2f 2f 63 6f 72 65 2f   py](file://core/
1f10	61 63 74 69 6f 6e 73 2f  63 6f 64 69 6e 67 2e 70   actions/coding.p
1f20	79 23 4c 34 36 2d 4c 31  31 34 29 0d 0a            y#L46-L114)..
