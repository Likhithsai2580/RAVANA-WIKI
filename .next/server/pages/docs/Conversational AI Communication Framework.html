<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta charSet="utf-8"/><title>Conversational AI Communication Framework<!-- --> - RAVANA AGI Documentation</title><meta name="description" content="Documentation for Conversational AI Communication Framework"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/aa7d986e9c238cc1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/aa7d986e9c238cc1.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js" defer="" data-nscript="beforeInteractive"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js" defer="" data-nscript="beforeInteractive"></script><script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.0/dist/mermaid.min.js" defer="" data-nscript="beforeInteractive"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-64ad27b21261a9ce.js" defer=""></script><script src="/_next/static/chunks/main-eb143115b8bf2786.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a41459f5c0b49356.js" defer=""></script><script src="/_next/static/chunks/664-d254d21a6fe56bff.js" defer=""></script><script src="/_next/static/chunks/pages/docs/%5Bslug%5D-37d587d3c8e56222.js" defer=""></script><script src="/_next/static/QHWQNiRZOuW15nbk5-ngt/_buildManifest.js" defer=""></script><script src="/_next/static/QHWQNiRZOuW15nbk5-ngt/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen flex flex-col"><div class="min-h-screen flex flex-col"><header class="bg-wiki-blue text-white p-4 shadow-md"><div class="container mx-auto flex justify-between items-center"><h1 class="text-2xl font-bold">RAVANA AGI Documentation</h1><nav><ul class="flex space-x-4"><li><a class="hover:underline" href="/">Home</a></li></ul></nav></div></header><div class="flex-grow container mx-auto p-4 flex flex-col md:flex-row gap-6"><div class="w-full md:w-64 flex-shrink-0"><nav class="w-full md:w-64 flex-shrink-0"><div class="bg-white rounded-lg shadow p-4 sticky top-4"><h3 class="font-bold text-lg mb-3">Documentation</h3><ul class="space-y-1"><li class="mb-3"><div class="font-semibold text-gray-700">A</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Action%20System">Action System</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/API%20Reference">API Reference</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Architecture%20&amp;%20Design">Architecture &amp; Design</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">C</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Configuration">Configuration</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 bg-wiki-blue text-white" href="/docs/Conversational%20AI%20Communication%20Framework">Conversational AI Communication Framework</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Core%20System">Core System</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">D</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Database%20Schema">Database Schema</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Decision-Making%20System">Decision-Making System</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Deployment%20&amp;%20Operations">Deployment &amp; Operations</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Development%20Guide">Development Guide</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">E</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Emotional%20Intelligence">Emotional Intelligence</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Enhanced%20Snake%20Agent">Enhanced Snake Agent</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Enhanced%20Snake%20Agent%20Architecture">Enhanced Snake Agent Architecture</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">G</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Graceful%20Shutdown">Graceful Shutdown</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">L</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/LLM%20Integration">LLM Integration</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">M</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Memory%20Systems">Memory Systems</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Multi-Modal%20Memory">Multi-Modal Memory</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">P</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Project%20Overview">Project Overview</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">S</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Self-Improvement">Self-Improvement</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Services">Services</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Snake%20Agent%20Configuration">Snake Agent Configuration</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Specialized%20Modules-57f9b30b-b165-48d3-8e89-196940d26190">Specialized Modules</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Specialized%20Modules">Specialized Modules</a></li></ul></li></ul></div></nav></div><main class="flex-grow"><nav class="mb-4 text-sm"><ol class="list-none p-0 inline-flex"><li class="flex items-center"><a class="text-wiki-blue hover:underline" href="/">Home</a><svg class="fill-current w-3 h-3 mx-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg></li><li class="flex items-center"><span class="text-gray-500">Conversational AI Communication Framework</span></li></ol></nav><div class="flex flex-col md:flex-row gap-6"><article class="prose max-w-none bg-white p-6 rounded-lg shadow flex-grow"><h1>Conversational AI Communication Framework</h1><div><h1>Conversational AI Communication Framework</h1>
<h2>Table of Contents</h2>
<ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#project-structure">Project Structure</a></li>
<li><a href="#core-components">Core Components</a></li>
<li><a href="#architecture-overview">Architecture Overview</a></li>
<li><a href="#detailed-component-analysis">Detailed Component Analysis</a></li>
<li><a href="#communication-message-structure">Communication Message Structure</a></li>
<li><a href="#integration-patterns">Integration Patterns</a></li>
<li><a href="#troubleshooting-guide">Troubleshooting Guide</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
<h2>Introduction</h2>
<p>The Conversational AI Communication Framework is a modular system designed to enable seamless interaction between AI agents and external platforms such as Discord and Telegram. It serves as a communication bridge between the main RAVANA system and user-facing interfaces, facilitating task delegation, emotional intelligence exchange, and real-time notifications. The framework supports multiple communication channels, prioritized messaging, and cross-platform user management, making it suitable for complex AI coordination scenarios.</p>
<h2>Project Structure</h2>
<p>The Conversational AI module is organized into distinct subdirectories based on functional responsibilities. This modular design enables clear separation of concerns and facilitates independent development and testing of components.</p>
<pre><code class="language-mermaid">graph TB
subgraph "Conversational AI Module"
subgraph "bots"
DB[discord_bot.py]
TB[telegram_bot.py]
end
subgraph "communication"
RB[ravana_bridge.py]
DM[data_models.py]
MSC[memory_service_channel.py]
MQC[message_queue_channel.py]
SSC[shared_state_channel.py]
end
subgraph "emotional_intelligence"
EI[conversational_ei.py]
end
subgraph "memory"
CHM[chat_history_manager.py]
MI[memory_interface.py]
end
CFG[config.json]
MAIN[main.py]
end
RB --> DM
DB --> RB
TB --> RB
CHM --> RB
EI --> RB
</code></pre>
<p><strong>Diagram sources</strong></p>
<ul>
<li><a>modules/conversational_ai/communication/ravana_bridge.py</a></li>
<li><a>modules/conversational_ai/bots/discord_bot.py</a></li>
<li><a>modules/conversational_ai/bots/telegram_bot.py</a></li>
</ul>
<p><strong>Section sources</strong></p>
<ul>
<li><a>modules/conversational_ai/config.json</a></li>
<li><a>modules/conversational_ai/main.py</a></li>
</ul>
<h2>Core Components</h2>
<p>The framework consists of several core components that work together to enable robust conversational AI capabilities:</p>
<ul>
<li><strong>RAVANACommunicator</strong>: Central communication bridge handling message routing between the AI system and external services</li>
<li><strong>Communication Channels</strong>: Specialized channels for different types of data flow (memory service, shared state, message queue)</li>
<li><strong>Platform Bots</strong>: Interface adapters for Discord and Telegram platforms</li>
<li><strong>Emotional Intelligence Module</strong>: Handles mood processing and persona management</li>
<li><strong>Memory System</strong>: Manages chat history and user context persistence</li>
</ul>
<p>These components are configured through a centralized JSON configuration file that defines platform settings, communication parameters, and emotional intelligence behavior.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>modules/conversational_ai/config.json</a></li>
<li><a>modules/conversational_ai/communication/ravana_bridge.py</a></li>
</ul>
<h2>Architecture Overview</h2>
<p>The Conversational AI Communication Framework follows a layered architecture with clear separation between communication, processing, and presentation layers. The system acts as an intermediary between the main RAVANA AI system and user-facing messaging platforms.</p>
<pre><code class="language-mermaid">graph LR
User[End User] --> |Sends Message| Platform[Discord/Telegram]
Platform --> Bot[Platform Bot]
Bot --> Communicator[RAVANACommunicator]
Communicator --> RAVANA[RAVANA Main System]
RAVANA --> |Response| Communicator
Communicator --> |Notification| Bot
Bot --> |Sends Message| Platform
Platform --> User
subgraph "Communication Channels"
MSC[Memory Service Channel]
SSC[Shared State Channel]
MQC[Message Queue Channel]
end
Communicator --> MSC
Communicator --> SSC
Communicator --> MQC
MSC --> Memory[(Persistent Storage)]
SSC --> State[(Real-time State)]
MQC --> Queue[(Reliable Messaging)]
</code></pre>
<p><strong>Diagram sources</strong></p>
<ul>
<li><a>modules/conversational_ai/communication/ravana_bridge.py</a></li>
<li><a>modules/conversational_ai/communication/data_models.py</a></li>
</ul>
<h2>Detailed Component Analysis</h2>
<h3>RAVANACommunicator Analysis</h3>
<p>The RAVANACommunicator class serves as the central communication hub, managing all interactions between the conversational AI and the main RAVANA system. It implements a multi-channel communication strategy to ensure reliable message delivery.</p>
<pre><code class="language-mermaid">classDiagram
class RAVANACommunicator {
+str channel
+object conversational_ai
+bool running
+Queue message_queue
+Event _shutdown
+MemoryServiceChannel memory_service_channel
+SharedStateChannel shared_state_channel
+MessageQueueChannel message_queue_channel
+Dict pending_tasks
+__init__(channel : str, conversational_ai)
+start() Coroutine
+stop() Coroutine
+_register_message_callbacks() void
+_process_messages() Coroutine
+_handle_message(message : Dict) Coroutine
+_handle_task_result(message : Dict) Coroutine
+_handle_notification(message : Dict) Coroutine
+_handle_user_message_from_ravana(message : Dict) Coroutine
+_handle_thought_exchange(message : Dict) Coroutine
+_process_ravana_insight(content : Dict) Coroutine
+_process_goal_adjustment(content : Dict) Coroutine
+_process_collaboration_proposal(content : Dict) Coroutine
+send_task_to_ravana(task : Dict) void
+send_thought_to_ravana(thought : Dict) void
+send_emotional_context_to_ravana(emotional_data : Dict) void
+send_notification_to_ravana(notification : Dict) void
+notify_user(user_id : str, message : str, platform : str) void
}
class MemoryServiceChannel {
+str channel_name
+bool running
+Dict callbacks
+start() Coroutine
+stop() Coroutine
+send_message(message : CommunicationMessage) bool
+register_message_callback(message_type : str, callback) void
}
class SharedStateChannel {
+str channel_name
+bool running
+Dict callbacks
+start() Coroutine
+stop() Coroutine
+send_message(message : CommunicationMessage) bool
+register_message_callback(message_type : str, callback) void
}
class MessageQueueChannel {
+str channel_name
+bool running
+Dict callbacks
+start() Coroutine
+stop() Coroutine
+send_message(message : CommunicationMessage) bool
+register_message_callback(message_type : str, callback) void
}
RAVANACommunicator --> MemoryServiceChannel : "uses"
RAVANACommunicator --> SharedStateChannel : "uses"
RAVANACommunicator --> MessageQueueChannel : "uses"
</code></pre>
<p><strong>Diagram sources</strong></p>
<ul>
<li><a>modules/conversational_ai/communication/ravana_bridge.py</a></li>
</ul>
<p><strong>Section sources</strong></p>
<ul>
<li><a>modules/conversational_ai/communication/ravana_bridge.py</a></li>
</ul>
<h3>Communication Flow Analysis</h3>
<p>The framework implements a sophisticated message processing pipeline that handles various types of communications with appropriate routing and processing logic.</p>
<pre><code class="language-mermaid">sequenceDiagram
participant RAVANA as RAVANA Main System
participant Communicator as RAVANACommunicator
participant Bot as Platform Bot
participant User as End User
RAVANA->>Communicator : send_task_to_ravana(task)
Communicator->>MessageQueueChannel : Send TASK_RESULT message
MessageQueueChannel-->>Communicator : Success
Communicator->>Communicator : Add to pending_tasks
Note over Communicator,MessageQueueChannel : Task sent via reliable queue
User->>Bot : Sends message
Bot->>Communicator : handle_user_message()
Communicator->>RAVANA : Forward message
RAVANA->>Communicator : Process and respond
Communicator->>Bot : Send response
Bot->>User : Deliver response
RAVANA->>Communicator : _handle_thought_exchange()
Communicator->>Communicator : Process thought type
alt Insight
Communicator->>Communicator : _process_ravana_insight()
Communicator->>Bot : Send insight to user
end
alt Goal Adjustment
Communicator->>Communicator : _process_goal_adjustment()
Communicator->>Bot : Notify user of goal change
end
alt Collaboration Proposal
Communicator->>Communicator : _process_collaboration_proposal()
Communicator->>Bot : Share collaboration idea
end
</code></pre>
<p><strong>Diagram sources</strong></p>
<ul>
<li><a>modules/conversational_ai/communication/ravana_bridge.py</a></li>
</ul>
<h2>Communication Message Structure</h2>
<p>The framework uses a standardized message structure to ensure consistent communication across all components. The CommunicationMessage class defines the format for all inter-system messages.</p>
<pre><code class="language-mermaid">classDiagram
class CommunicationType {
&#x3C;&#x3C;enumeration>>
PROPOSAL
STATUS_UPDATE
EMERGENCY
THOUGHT_EXCHANGE
TASK_RESULT
NOTIFICATION
USER_MESSAGE
}
class Priority {
&#x3C;&#x3C;enumeration>>
LOW
MEDIUM
HIGH
CRITICAL
}
class CommunicationMessage {
+str id
+CommunicationType type
+Priority priority
+datetime timestamp
+str sender
+str recipient
+str subject
+Dict content
+bool requires_response
+Optional[int] response_timeout
+to_dict() Dict
+from_dict(data : Dict) CommunicationMessage
}
class UserPlatformProfile {
+str user_id
+str last_platform
+str platform_user_id
+Dict preferences
+datetime last_interaction
+to_dict() Dict
+from_dict(data : Dict) UserPlatformProfile
}
CommunicationMessage --> CommunicationType : "has type"
CommunicationMessage --> Priority : "has priority"
</code></pre>
<p><strong>Diagram sources</strong></p>
<ul>
<li><a>modules/conversational_ai/communication/data_models.py</a></li>
</ul>
<p><strong>Section sources</strong></p>
<ul>
<li><a>modules/conversational_ai/communication/data_models.py</a></li>
</ul>
<h2>Integration Patterns</h2>
<p>The framework supports several integration patterns for connecting with the main RAVANA system and external platforms:</p>
<h3>Task Delegation Pattern</h3>
<p>When the conversational AI needs to delegate a task to the main system:</p>
<pre><code class="language-python">task = {
    "task_id": "task_123",
    "task_description": "Analyze user sentiment",
    "parameters": {
        "user_id": "user_456",
        "conversation_history": [...]
    }
}
communicator.send_task_to_ravana(task)
</code></pre>
<h3>Thought Exchange Pattern</h3>
<p>For sharing insights and cognitive processes between systems:</p>
<pre><code class="language-python">thought = {
    "thought_type": "insight",
    "payload": {
        "description": "Noticed user prefers concise responses",
        "evidence": "User frequently interrupts long messages"
    },
    "metadata": {
        "user_id": "user_456",
        "timestamp": "2024-01-15T10:30:00"
    }
}
communicator.send_thought_to_ravana(thought)
</code></pre>
<h3>Emotional Context Synchronization</h3>
<p>To maintain emotional continuity across system boundaries:</p>
<pre><code class="language-python">emotional_data = {
    "user_id": "user_456",
    "current_mood": "frustrated",
    "mood_intensity": 0.7,
    "detected_cues": ["short_responses", "exclamation_points"],
    "recommended_response_style": "empathetic"
}
communicator.send_emotional_context_to_ravana(emotional_data)
</code></pre>
<p><strong>Section sources</strong></p>
<ul>
<li><a>modules/conversational_ai/communication/ravana_bridge.py</a></li>
<li><a>modules/conversational_ai/communication/data_models.py</a></li>
</ul>
<h2>Troubleshooting Guide</h2>
<p>Common issues and their solutions when working with the Conversational AI Communication Framework:</p>
<h3>Connection Issues</h3>
<p><strong>Symptom</strong>: RAVANACommunicator fails to start or maintain connection
<strong>Solution</strong>:</p>
<ul>
<li>Verify the IPC channel name matches in both systems</li>
<li>Check that required services are running</li>
<li>Ensure proper permissions for communication channels</li>
</ul>
<h3>Message Delivery Failures</h3>
<p><strong>Symptom</strong>: Messages are not being delivered or processed
<strong>Solution</strong>:</p>
<ul>
<li>Check the message queue for backlog</li>
<li>Verify message callbacks are properly registered</li>
<li>Confirm message format adheres to CommunicationMessage structure</li>
<li>Review logs for serialization errors</li>
</ul>
<h3>Platform Integration Problems</h3>
<p><strong>Symptom</strong>: Discord or Telegram bots not responding
<strong>Solution</strong>:</p>
<ul>
<li>Validate API tokens in config.json</li>
<li>Check platform-specific configuration settings</li>
<li>Ensure bot has necessary permissions in the server/channel</li>
<li>Verify network connectivity to platform APIs</li>
</ul>
<h3>Performance Issues</h3>
<p><strong>Symptom</strong>: High latency in message processing
<strong>Solution</strong>:</p>
<ul>
<li>Monitor message queue size and processing rate</li>
<li>Consider increasing message_timeout in configuration</li>
<li>Review the number of pending tasks</li>
<li>Optimize message content size</li>
</ul>
<p><strong>Section sources</strong></p>
<ul>
<li><a>modules/conversational_ai/config.json</a></li>
<li><a>modules/conversational_ai/communication/ravana_bridge.py</a></li>
<li><a>modules/conversational_ai/bots/discord_bot.py</a></li>
<li><a>modules/conversational_ai/bots/telegram_bot.py</a></li>
</ul>
<h2>Conclusion</h2>
<p>The Conversational AI Communication Framework provides a robust foundation for building intelligent, multi-platform conversational agents. Its modular architecture, standardized message formats, and comprehensive error handling make it suitable for complex AI coordination scenarios. The framework effectively bridges the gap between the cognitive capabilities of the main RAVANA system and user-facing communication platforms, enabling seamless interaction through multiple channels. By following the documented integration patterns and troubleshooting guidelines, developers can successfully implement and maintain sophisticated conversational AI applications.</p>
<p><strong>Referenced Files in This Document</strong></p>
<ul>
<li><a>modules/conversational_ai/config.json</a></li>
<li><a>modules/conversational_ai/communication/ravana_bridge.py</a></li>
<li><a>modules/conversational_ai/communication/data_models.py</a></li>
<li><a>modules/conversational_ai/main.py</a></li>
<li><a>modules/conversational_ai/bots/discord_bot.py</a></li>
<li><a>modules/conversational_ai/bots/telegram_bot.py</a></li>
</ul>
</div></article><div class="w-full md:w-64 flex-shrink-0"></div></div></main></div><footer class="bg-wiki-dark text-white p-4"><div class="container mx-auto text-center"><p>© <!-- -->2025<!-- --> RAVANA AGI System Documentation</p></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"doc":{"slug":"Conversational AI Communication Framework","title":"Conversational AI Communication Framework","content":"\u003ch1\u003eConversational AI Communication Framework\u003c/h1\u003e\n\u003ch2\u003eTable of Contents\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"#introduction\"\u003eIntroduction\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#project-structure\"\u003eProject Structure\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#core-components\"\u003eCore Components\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#architecture-overview\"\u003eArchitecture Overview\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#detailed-component-analysis\"\u003eDetailed Component Analysis\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#communication-message-structure\"\u003eCommunication Message Structure\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#integration-patterns\"\u003eIntegration Patterns\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#troubleshooting-guide\"\u003eTroubleshooting Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#conclusion\"\u003eConclusion\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003eThe Conversational AI Communication Framework is a modular system designed to enable seamless interaction between AI agents and external platforms such as Discord and Telegram. It serves as a communication bridge between the main RAVANA system and user-facing interfaces, facilitating task delegation, emotional intelligence exchange, and real-time notifications. The framework supports multiple communication channels, prioritized messaging, and cross-platform user management, making it suitable for complex AI coordination scenarios.\u003c/p\u003e\n\u003ch2\u003eProject Structure\u003c/h2\u003e\n\u003cp\u003eThe Conversational AI module is organized into distinct subdirectories based on functional responsibilities. This modular design enables clear separation of concerns and facilitates independent development and testing of components.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-mermaid\"\u003egraph TB\nsubgraph \"Conversational AI Module\"\nsubgraph \"bots\"\nDB[discord_bot.py]\nTB[telegram_bot.py]\nend\nsubgraph \"communication\"\nRB[ravana_bridge.py]\nDM[data_models.py]\nMSC[memory_service_channel.py]\nMQC[message_queue_channel.py]\nSSC[shared_state_channel.py]\nend\nsubgraph \"emotional_intelligence\"\nEI[conversational_ei.py]\nend\nsubgraph \"memory\"\nCHM[chat_history_manager.py]\nMI[memory_interface.py]\nend\nCFG[config.json]\nMAIN[main.py]\nend\nRB --\u003e DM\nDB --\u003e RB\nTB --\u003e RB\nCHM --\u003e RB\nEI --\u003e RB\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eDiagram sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/ravana_bridge.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/bots/discord_bot.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/bots/telegram_bot.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/config.json\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/main.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eCore Components\u003c/h2\u003e\n\u003cp\u003eThe framework consists of several core components that work together to enable robust conversational AI capabilities:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eRAVANACommunicator\u003c/strong\u003e: Central communication bridge handling message routing between the AI system and external services\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCommunication Channels\u003c/strong\u003e: Specialized channels for different types of data flow (memory service, shared state, message queue)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePlatform Bots\u003c/strong\u003e: Interface adapters for Discord and Telegram platforms\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eEmotional Intelligence Module\u003c/strong\u003e: Handles mood processing and persona management\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMemory System\u003c/strong\u003e: Manages chat history and user context persistence\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThese components are configured through a centralized JSON configuration file that defines platform settings, communication parameters, and emotional intelligence behavior.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/config.json\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/ravana_bridge.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eArchitecture Overview\u003c/h2\u003e\n\u003cp\u003eThe Conversational AI Communication Framework follows a layered architecture with clear separation between communication, processing, and presentation layers. The system acts as an intermediary between the main RAVANA AI system and user-facing messaging platforms.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-mermaid\"\u003egraph LR\nUser[End User] --\u003e |Sends Message| Platform[Discord/Telegram]\nPlatform --\u003e Bot[Platform Bot]\nBot --\u003e Communicator[RAVANACommunicator]\nCommunicator --\u003e RAVANA[RAVANA Main System]\nRAVANA --\u003e |Response| Communicator\nCommunicator --\u003e |Notification| Bot\nBot --\u003e |Sends Message| Platform\nPlatform --\u003e User\nsubgraph \"Communication Channels\"\nMSC[Memory Service Channel]\nSSC[Shared State Channel]\nMQC[Message Queue Channel]\nend\nCommunicator --\u003e MSC\nCommunicator --\u003e SSC\nCommunicator --\u003e MQC\nMSC --\u003e Memory[(Persistent Storage)]\nSSC --\u003e State[(Real-time State)]\nMQC --\u003e Queue[(Reliable Messaging)]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eDiagram sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/ravana_bridge.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/data_models.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eDetailed Component Analysis\u003c/h2\u003e\n\u003ch3\u003eRAVANACommunicator Analysis\u003c/h3\u003e\n\u003cp\u003eThe RAVANACommunicator class serves as the central communication hub, managing all interactions between the conversational AI and the main RAVANA system. It implements a multi-channel communication strategy to ensure reliable message delivery.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-mermaid\"\u003eclassDiagram\nclass RAVANACommunicator {\n+str channel\n+object conversational_ai\n+bool running\n+Queue message_queue\n+Event _shutdown\n+MemoryServiceChannel memory_service_channel\n+SharedStateChannel shared_state_channel\n+MessageQueueChannel message_queue_channel\n+Dict pending_tasks\n+__init__(channel : str, conversational_ai)\n+start() Coroutine\n+stop() Coroutine\n+_register_message_callbacks() void\n+_process_messages() Coroutine\n+_handle_message(message : Dict) Coroutine\n+_handle_task_result(message : Dict) Coroutine\n+_handle_notification(message : Dict) Coroutine\n+_handle_user_message_from_ravana(message : Dict) Coroutine\n+_handle_thought_exchange(message : Dict) Coroutine\n+_process_ravana_insight(content : Dict) Coroutine\n+_process_goal_adjustment(content : Dict) Coroutine\n+_process_collaboration_proposal(content : Dict) Coroutine\n+send_task_to_ravana(task : Dict) void\n+send_thought_to_ravana(thought : Dict) void\n+send_emotional_context_to_ravana(emotional_data : Dict) void\n+send_notification_to_ravana(notification : Dict) void\n+notify_user(user_id : str, message : str, platform : str) void\n}\nclass MemoryServiceChannel {\n+str channel_name\n+bool running\n+Dict callbacks\n+start() Coroutine\n+stop() Coroutine\n+send_message(message : CommunicationMessage) bool\n+register_message_callback(message_type : str, callback) void\n}\nclass SharedStateChannel {\n+str channel_name\n+bool running\n+Dict callbacks\n+start() Coroutine\n+stop() Coroutine\n+send_message(message : CommunicationMessage) bool\n+register_message_callback(message_type : str, callback) void\n}\nclass MessageQueueChannel {\n+str channel_name\n+bool running\n+Dict callbacks\n+start() Coroutine\n+stop() Coroutine\n+send_message(message : CommunicationMessage) bool\n+register_message_callback(message_type : str, callback) void\n}\nRAVANACommunicator --\u003e MemoryServiceChannel : \"uses\"\nRAVANACommunicator --\u003e SharedStateChannel : \"uses\"\nRAVANACommunicator --\u003e MessageQueueChannel : \"uses\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eDiagram sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/ravana_bridge.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/ravana_bridge.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eCommunication Flow Analysis\u003c/h3\u003e\n\u003cp\u003eThe framework implements a sophisticated message processing pipeline that handles various types of communications with appropriate routing and processing logic.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-mermaid\"\u003esequenceDiagram\nparticipant RAVANA as RAVANA Main System\nparticipant Communicator as RAVANACommunicator\nparticipant Bot as Platform Bot\nparticipant User as End User\nRAVANA-\u003e\u003eCommunicator : send_task_to_ravana(task)\nCommunicator-\u003e\u003eMessageQueueChannel : Send TASK_RESULT message\nMessageQueueChannel--\u003e\u003eCommunicator : Success\nCommunicator-\u003e\u003eCommunicator : Add to pending_tasks\nNote over Communicator,MessageQueueChannel : Task sent via reliable queue\nUser-\u003e\u003eBot : Sends message\nBot-\u003e\u003eCommunicator : handle_user_message()\nCommunicator-\u003e\u003eRAVANA : Forward message\nRAVANA-\u003e\u003eCommunicator : Process and respond\nCommunicator-\u003e\u003eBot : Send response\nBot-\u003e\u003eUser : Deliver response\nRAVANA-\u003e\u003eCommunicator : _handle_thought_exchange()\nCommunicator-\u003e\u003eCommunicator : Process thought type\nalt Insight\nCommunicator-\u003e\u003eCommunicator : _process_ravana_insight()\nCommunicator-\u003e\u003eBot : Send insight to user\nend\nalt Goal Adjustment\nCommunicator-\u003e\u003eCommunicator : _process_goal_adjustment()\nCommunicator-\u003e\u003eBot : Notify user of goal change\nend\nalt Collaboration Proposal\nCommunicator-\u003e\u003eCommunicator : _process_collaboration_proposal()\nCommunicator-\u003e\u003eBot : Share collaboration idea\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eDiagram sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/ravana_bridge.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eCommunication Message Structure\u003c/h2\u003e\n\u003cp\u003eThe framework uses a standardized message structure to ensure consistent communication across all components. The CommunicationMessage class defines the format for all inter-system messages.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-mermaid\"\u003eclassDiagram\nclass CommunicationType {\n\u0026#x3C;\u0026#x3C;enumeration\u003e\u003e\nPROPOSAL\nSTATUS_UPDATE\nEMERGENCY\nTHOUGHT_EXCHANGE\nTASK_RESULT\nNOTIFICATION\nUSER_MESSAGE\n}\nclass Priority {\n\u0026#x3C;\u0026#x3C;enumeration\u003e\u003e\nLOW\nMEDIUM\nHIGH\nCRITICAL\n}\nclass CommunicationMessage {\n+str id\n+CommunicationType type\n+Priority priority\n+datetime timestamp\n+str sender\n+str recipient\n+str subject\n+Dict content\n+bool requires_response\n+Optional[int] response_timeout\n+to_dict() Dict\n+from_dict(data : Dict) CommunicationMessage\n}\nclass UserPlatformProfile {\n+str user_id\n+str last_platform\n+str platform_user_id\n+Dict preferences\n+datetime last_interaction\n+to_dict() Dict\n+from_dict(data : Dict) UserPlatformProfile\n}\nCommunicationMessage --\u003e CommunicationType : \"has type\"\nCommunicationMessage --\u003e Priority : \"has priority\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eDiagram sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/data_models.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/data_models.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eIntegration Patterns\u003c/h2\u003e\n\u003cp\u003eThe framework supports several integration patterns for connecting with the main RAVANA system and external platforms:\u003c/p\u003e\n\u003ch3\u003eTask Delegation Pattern\u003c/h3\u003e\n\u003cp\u003eWhen the conversational AI needs to delegate a task to the main system:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003etask = {\n    \"task_id\": \"task_123\",\n    \"task_description\": \"Analyze user sentiment\",\n    \"parameters\": {\n        \"user_id\": \"user_456\",\n        \"conversation_history\": [...]\n    }\n}\ncommunicator.send_task_to_ravana(task)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eThought Exchange Pattern\u003c/h3\u003e\n\u003cp\u003eFor sharing insights and cognitive processes between systems:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003ethought = {\n    \"thought_type\": \"insight\",\n    \"payload\": {\n        \"description\": \"Noticed user prefers concise responses\",\n        \"evidence\": \"User frequently interrupts long messages\"\n    },\n    \"metadata\": {\n        \"user_id\": \"user_456\",\n        \"timestamp\": \"2024-01-15T10:30:00\"\n    }\n}\ncommunicator.send_thought_to_ravana(thought)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eEmotional Context Synchronization\u003c/h3\u003e\n\u003cp\u003eTo maintain emotional continuity across system boundaries:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003eemotional_data = {\n    \"user_id\": \"user_456\",\n    \"current_mood\": \"frustrated\",\n    \"mood_intensity\": 0.7,\n    \"detected_cues\": [\"short_responses\", \"exclamation_points\"],\n    \"recommended_response_style\": \"empathetic\"\n}\ncommunicator.send_emotional_context_to_ravana(emotional_data)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/ravana_bridge.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/data_models.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eTroubleshooting Guide\u003c/h2\u003e\n\u003cp\u003eCommon issues and their solutions when working with the Conversational AI Communication Framework:\u003c/p\u003e\n\u003ch3\u003eConnection Issues\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eSymptom\u003c/strong\u003e: RAVANACommunicator fails to start or maintain connection\n\u003cstrong\u003eSolution\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eVerify the IPC channel name matches in both systems\u003c/li\u003e\n\u003cli\u003eCheck that required services are running\u003c/li\u003e\n\u003cli\u003eEnsure proper permissions for communication channels\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eMessage Delivery Failures\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eSymptom\u003c/strong\u003e: Messages are not being delivered or processed\n\u003cstrong\u003eSolution\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCheck the message queue for backlog\u003c/li\u003e\n\u003cli\u003eVerify message callbacks are properly registered\u003c/li\u003e\n\u003cli\u003eConfirm message format adheres to CommunicationMessage structure\u003c/li\u003e\n\u003cli\u003eReview logs for serialization errors\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003ePlatform Integration Problems\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eSymptom\u003c/strong\u003e: Discord or Telegram bots not responding\n\u003cstrong\u003eSolution\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eValidate API tokens in config.json\u003c/li\u003e\n\u003cli\u003eCheck platform-specific configuration settings\u003c/li\u003e\n\u003cli\u003eEnsure bot has necessary permissions in the server/channel\u003c/li\u003e\n\u003cli\u003eVerify network connectivity to platform APIs\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003ePerformance Issues\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eSymptom\u003c/strong\u003e: High latency in message processing\n\u003cstrong\u003eSolution\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eMonitor message queue size and processing rate\u003c/li\u003e\n\u003cli\u003eConsider increasing message_timeout in configuration\u003c/li\u003e\n\u003cli\u003eReview the number of pending tasks\u003c/li\u003e\n\u003cli\u003eOptimize message content size\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/config.json\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/ravana_bridge.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/bots/discord_bot.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/bots/telegram_bot.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eThe Conversational AI Communication Framework provides a robust foundation for building intelligent, multi-platform conversational agents. Its modular architecture, standardized message formats, and comprehensive error handling make it suitable for complex AI coordination scenarios. The framework effectively bridges the gap between the cognitive capabilities of the main RAVANA system and user-facing communication platforms, enabling seamless interaction through multiple channels. By following the documented integration patterns and troubleshooting guidelines, developers can successfully implement and maintain sophisticated conversational AI applications.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eReferenced Files in This Document\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/config.json\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/ravana_bridge.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/communication/data_models.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/main.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/bots/discord_bot.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emodules/conversational_ai/bots/telegram_bot.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n"},"docs":[{"slug":"Action System","title":"Action System"},{"slug":"API Reference","title":"API Reference"},{"slug":"Architecture \u0026 Design","title":"Architecture \u0026 Design"},{"slug":"Configuration","title":"Configuration"},{"slug":"Conversational AI Communication Framework","title":"Conversational AI Communication Framework"},{"slug":"Core System","title":"Core System"},{"slug":"Database Schema","title":"Database Schema"},{"slug":"Decision-Making System","title":"Decision-Making System"},{"slug":"Deployment \u0026 Operations","title":"Deployment \u0026 Operations"},{"slug":"Development Guide","title":"Development Guide"},{"slug":"Emotional Intelligence","title":"Emotional Intelligence"},{"slug":"Enhanced Snake Agent","title":"Enhanced Snake Agent"},{"slug":"Enhanced Snake Agent Architecture","title":"Enhanced Snake Agent Architecture"},{"slug":"Graceful Shutdown","title":"Graceful Shutdown"},{"slug":"LLM Integration","title":"LLM Integration"},{"slug":"Memory Systems","title":"Memory Systems"},{"slug":"Multi-Modal Memory","title":"Multi-Modal Memory"},{"slug":"Project Overview","title":"Project Overview"},{"slug":"Self-Improvement","title":"Self-Improvement"},{"slug":"Services","title":"Services"},{"slug":"Snake Agent Configuration","title":"Snake Agent Configuration"},{"slug":"Specialized Modules-57f9b30b-b165-48d3-8e89-196940d26190","title":"Specialized Modules"},{"slug":"Specialized Modules","title":"Specialized Modules"}]},"__N_SSG":true},"page":"/docs/[slug]","query":{"slug":"Conversational AI Communication Framework"},"buildId":"QHWQNiRZOuW15nbk5-ngt","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>