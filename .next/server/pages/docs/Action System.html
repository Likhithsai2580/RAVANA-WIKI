<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta charSet="utf-8"/><title>Action System<!-- --> - RAVANA AGI Documentation</title><meta name="description" content="Documentation for Action System"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/aa7d986e9c238cc1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/aa7d986e9c238cc1.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js" defer="" data-nscript="beforeInteractive"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js" defer="" data-nscript="beforeInteractive"></script><script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.0/dist/mermaid.min.js" defer="" data-nscript="beforeInteractive"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-64ad27b21261a9ce.js" defer=""></script><script src="/_next/static/chunks/main-eb143115b8bf2786.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a41459f5c0b49356.js" defer=""></script><script src="/_next/static/chunks/664-d254d21a6fe56bff.js" defer=""></script><script src="/_next/static/chunks/pages/docs/%5Bslug%5D-37d587d3c8e56222.js" defer=""></script><script src="/_next/static/QHWQNiRZOuW15nbk5-ngt/_buildManifest.js" defer=""></script><script src="/_next/static/QHWQNiRZOuW15nbk5-ngt/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen flex flex-col"><div class="min-h-screen flex flex-col"><header class="bg-wiki-blue text-white p-4 shadow-md"><div class="container mx-auto flex justify-between items-center"><h1 class="text-2xl font-bold">RAVANA AGI Documentation</h1><nav><ul class="flex space-x-4"><li><a class="hover:underline" href="/">Home</a></li></ul></nav></div></header><div class="flex-grow container mx-auto p-4 flex flex-col md:flex-row gap-6"><div class="w-full md:w-64 flex-shrink-0"><nav class="w-full md:w-64 flex-shrink-0"><div class="bg-white rounded-lg shadow p-4 sticky top-4"><h3 class="font-bold text-lg mb-3">Documentation</h3><ul class="space-y-1"><li class="mb-3"><div class="font-semibold text-gray-700">A</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 bg-wiki-blue text-white" href="/docs/Action%20System">Action System</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/API%20Reference">API Reference</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Architecture%20&amp;%20Design">Architecture &amp; Design</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">C</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Configuration">Configuration</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Conversational%20AI%20Communication%20Framework">Conversational AI Communication Framework</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Core%20System">Core System</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">D</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Database%20Schema">Database Schema</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Decision-Making%20System">Decision-Making System</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Deployment%20&amp;%20Operations">Deployment &amp; Operations</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Development%20Guide">Development Guide</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">E</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Emotional%20Intelligence">Emotional Intelligence</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Enhanced%20Snake%20Agent">Enhanced Snake Agent</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Enhanced%20Snake%20Agent%20Architecture">Enhanced Snake Agent Architecture</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">G</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Graceful%20Shutdown">Graceful Shutdown</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">L</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/LLM%20Integration">LLM Integration</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">M</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Memory%20Systems">Memory Systems</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Multi-Modal%20Memory">Multi-Modal Memory</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">P</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Project%20Overview">Project Overview</a></li></ul></li><li class="mb-3"><div class="font-semibold text-gray-700">S</div><ul class="ml-2 mt-1 space-y-1"><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Self-Improvement">Self-Improvement</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Services">Services</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Snake%20Agent%20Configuration">Snake Agent Configuration</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Specialized%20Modules-57f9b30b-b165-48d3-8e89-196940d26190">Specialized Modules</a></li><li><a class="block py-1 px-2 rounded hover:bg-gray-100 text-gray-600" href="/docs/Specialized%20Modules">Specialized Modules</a></li></ul></li></ul></div></nav></div><main class="flex-grow"><nav class="mb-4 text-sm"><ol class="list-none p-0 inline-flex"><li class="flex items-center"><a class="text-wiki-blue hover:underline" href="/">Home</a><svg class="fill-current w-3 h-3 mx-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg></li><li class="flex items-center"><span class="text-gray-500">Action System</span></li></ol></nav><div class="flex flex-col md:flex-row gap-6"><article class="prose max-w-none bg-white p-6 rounded-lg shadow flex-grow"><h1>Action System</h1><div><h1>Action System</h1>
<h2>Update Summary</h2>
<p><strong>Changes Made</strong></p>
<ul>
<li>Updated Coding Actions section to reflect enhanced code generation prompt with structured role, task instructions, reasoning framework, output requirements, and safety constraints</li>
<li>Added new section on Prompt Management System to explain centralized prompt handling</li>
<li>Enhanced security considerations with additional safety constraints from the enhanced prompt</li>
<li>Updated referenced files list to include prompt_manager.py, code_generation.json, and llm.py</li>
<li>Added details about dynamic prompt enhancement with mood adaptation and safety constraints</li>
</ul>
<h2>Table of Contents</h2>
<ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#action-base-class-and-execute-contract">Action Base Class and Execute Contract</a></li>
<li><a href="#action-registry-and-discovery-mechanism">Action Registry and Discovery Mechanism</a></li>
<li><a href="#action-manager-execution-lifecycle">Action Manager Execution Lifecycle</a></li>
<li><a href="#built-in-action-types-and-use-cases">Built-in Action Types and Use Cases</a></li>
<li><a href="#prompt-management-system">Prompt Management System</a></li>
<li><a href="#defining-and-registering-custom-actions">Defining and Registering Custom Actions</a></li>
<li><a href="#system-state-and-service-interaction">System State and Service Interaction</a></li>
<li><a href="#security-considerations-for-action-execution">Security Considerations for Action Execution</a></li>
<li><a href="#troubleshooting-common-issues">Troubleshooting Common Issues</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
<h2>Introduction</h2>
<p>The Action System is a core component of the Ravana AGI framework, responsible for executing tasks based on decisions made by the decision engine. It provides a structured, extensible mechanism for defining, registering, and executing actions that the AGI can perform. The system is designed with modularity, safety, and scalability in mind, enabling both built-in and custom actions to be seamlessly integrated. This document provides a comprehensive overview of the action system's architecture, functionality, and best practices.</p>
<h2>Action Base Class and Execute Contract</h2>
<p>The <code>Action</code> class serves as the abstract base class for all executable actions within the system. It defines a standardized interface that ensures consistency across different types of actions.</p>
<pre><code>classDiagram
class Action {
&#x3C;&#x3C;abstract>>
+system : AGISystem
+data_service : DataService
+name : str
+description : str
+parameters : List[Dict[str, Any]]
+execute(**kwargs : Any) : Any
+validate_params(params : Dict[str, Any]) : None
+to_dict() : Dict[str, Any]
+to_json() : str
}
Action &#x3C;|-- WritePythonCodeAction
Action &#x3C;|-- ExecutePythonFileAction
Action &#x3C;|-- LogMessageAction
Action &#x3C;|-- ProposeAndTestInventionAction
Action &#x3C;|-- ProcessImageAction
Action &#x3C;|-- BlogPublishAction
Action &#x3C;|-- CollaborativeTaskAction
</code></pre>
<p><strong>Diagram sources</strong></p>
<ul>
<li><a>action.py</a></li>
</ul>
<h3>Key Properties</h3>
<ul>
<li><strong>name</strong>: A unique identifier for the action (e.g., "write_python_code")</li>
<li><strong>description</strong>: Human-readable explanation of what the action does</li>
<li><strong>parameters</strong>: List of dictionaries defining input parameters with name, type, description, and required status</li>
</ul>
<h3>Execute Method Contract</h3>
<p>The <code>execute</code> method is an abstract async method that must be implemented by all subclasses. It receives keyword arguments matching the defined parameters and returns the result of the action execution. The method contract requires:</p>
<ul>
<li>Parameter validation via <code>validate_params</code> before execution</li>
<li>Asynchronous execution using <code>async/await</code> pattern</li>
<li>Proper error handling and logging</li>
<li>Return of a dictionary with status information or execution results</li>
</ul>
<h3>Validation and Serialization</h3>
<p>The base class provides built-in validation through <code>validate_params</code>, which checks for missing required parameters and unexpected parameters. It also includes <code>to_dict</code> and <code>to_json</code> methods for serializing action metadata, which is used in LLM prompts and API responses.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>action.py</a></li>
</ul>
<h2>Action Registry and Discovery Mechanism</h2>
<p>The <code>ActionRegistry</code> is responsible for managing the collection of available actions and providing lookup functionality.</p>
<pre><code>classDiagram
class ActionRegistry {
-actions : Dict[str, Action]
+__init__(system : AGISystem, data_service : DataService)
+_register_action(action : Action) : None
+register_action(action : Action) : None
+discover_actions() : None
+get_action(name : str) : Action
+get_all_actions() : List[Action]
+get_action_definitions() : str
}
ActionRegistry --> Action : "contains"
</code></pre>
<p><strong>Diagram sources</strong></p>
<ul>
<li><a>registry.py</a></li>
</ul>
<h3>Registration Process</h3>
<p>The registry initializes with several built-in actions:</p>
<ul>
<li><code>ProposeAndTestInventionAction</code></li>
<li><code>LogMessageAction</code></li>
<li><code>WritePythonCodeAction</code></li>
<li><code>ExecutePythonFileAction</code></li>
<li><code>BlogPublishAction</code></li>
<li><code>CollaborativeTaskAction</code></li>
</ul>
<p>These are registered during initialization with their required dependencies (system and data_service). The <code>CollaborativeTaskAction</code> is now included as a core built-in action, reflecting its importance in the cross-system task delegation workflow.</p>
<h3>Public Registration Methods</h3>
<ul>
<li><strong>register_action</strong>: Public method to register a new action instance</li>
<li><strong>_register_action</strong>: Internal method that handles registration with overwrite warnings</li>
</ul>
<h3>Automatic Discovery</h3>
<p>The <code>discover_actions</code> method uses Python's <code>pkgutil.walk_packages</code> to automatically discover and register all action classes in the <code>core.actions</code> package. It:</p>
<ol>
<li>Iterates through all modules in the actions package</li>
<li>Imports each module</li>
<li>Finds all classes that inherit from <code>Action</code> (excluding the base class itself)</li>
<li>Instantiates and registers each action</li>
<li>Logs warnings for duplicate names and errors for instantiation failures</li>
</ol>
<p>This discovery mechanism enables plug-and-play extensibility - new actions can be added by simply creating a new file in the actions directory with a properly defined action class.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>registry.py</a></li>
</ul>
<h2>Action Manager Execution Lifecycle</h2>
<p>The <code>ActionManager</code> orchestrates the execution of actions, handling the complete lifecycle from decision parsing to result return.</p>
<pre><code>sequenceDiagram
participant DecisionEngine
participant ActionManager
participant ActionRegistry
participant Action
participant DataService
DecisionEngine->>ActionManager : execute_action(decision)
ActionManager->>ActionManager : Parse decision format
alt Raw LLM Response
ActionManager->>ActionManager : Extract JSON from response
ActionManager->>ActionManager : Parse JSON to action_data
else Pre-parsed Action
ActionManager->>ActionManager : Use action_data directly
end
ActionManager->>ActionManager : Validate action_data structure
ActionManager->>ActionRegistry : get_action(action_name)
ActionRegistry-->>ActionManager : Return Action instance
ActionManager->>Action : execute(**action_params)
Action-->>ActionManager : Return execution result
ActionManager->>DataService : save_action_log(success)
ActionManager-->>DecisionEngine : Return result
alt Execution Error
Action-->>ActionManager : Raise exception
ActionManager->>DataService : save_action_log(error)
ActionManager-->>DecisionEngine : Return error object
end
</code></pre>
<p><strong>Diagram sources</strong></p>
<ul>
<li><a>action_manager.py</a></li>
</ul>
<h3>Decision Parsing</h3>
<p>The <code>execute_action</code> method handles two decision formats:</p>
<ol>
<li><strong>Pre-parsed action dictionary</strong>: Contains "action" and "params" keys</li>
<li><strong>Raw LLM response</strong>: Contains "raw_response" with JSON embedded in markdown code blocks</li>
</ol>
<p>For raw responses, the system extracts the JSON block using string manipulation and parses it. If no valid JSON block is found, it attempts to parse the entire response as JSON.</p>
<h3>Execution Flow</h3>
<ol>
<li>Extract action name and parameters from the decision</li>
<li>Retrieve the action instance from the registry</li>
<li>Log the execution attempt</li>
<li>Execute the action with provided parameters</li>
<li>Log successful execution to the database</li>
<li>Return the result</li>
</ol>
<h3>Error Handling</h3>
<p>The execution lifecycle includes comprehensive error handling:</p>
<ul>
<li><strong>ActionException</strong>: For expected action-related errors (logged with error status)</li>
<li><strong>General Exception</strong>: For unexpected errors (logged with full traceback)</li>
<li>All errors are logged to the database via <code>save_action_log</code></li>
</ul>
<p>The method returns a standardized error object with an "error" key, ensuring consistent error reporting to the decision engine.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>action_manager.py</a></li>
</ul>
<h2>Built-in Action Types and Use Cases</h2>
<p>The system provides several built-in action types categorized by functionality.</p>
<h3>Coding Actions</h3>
<p>These actions enable the AGI to generate and execute code.</p>
<h4>WritePythonCodeAction</h4>
<p>Generates Python code based on a hypothesis and test plan using the LLM with an enhanced prompt structure.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>file_path</strong>: Where to save the generated code</li>
<li><strong>hypothesis</strong>: The concept to test</li>
<li><strong>test_plan</strong>: How to test the hypothesis</li>
</ul>
<p>The action uses a structured prompt template with multiple sections to guide code generation:</p>
<ul>
<li><strong>[ROLE DEFINITION]</strong>: Defines the AI as an expert programmer</li>
<li><strong>[CONTEXT]</strong>: Provides the hypothesis and test plan</li>
<li><strong>[TASK INSTRUCTIONS]</strong>: Step-by-step process for code generation</li>
<li><strong>[REASONING FRAMEWORK]</strong>: Software engineering best practices</li>
<li><strong>[OUTPUT REQUIREMENTS]</strong>: Specifications for code quality and format</li>
<li><strong>[SAFETY CONSTRAINTS]</strong>: Security and reliability guidelines</li>
</ul>
<p>The prompt ensures high-quality code generation by requiring:</p>
<ul>
<li>Clear, descriptive variable and function names</li>
<li>Comprehensive inline documentation</li>
<li>Proper error handling and edge case management</li>
<li>Efficient algorithms and data structures</li>
<li>Adherence to Python conventions and best practices</li>
<li>Confidence score for solution correctness (0.0-1.0)</li>
</ul>
<p>The action extracts code from markdown code blocks in the LLM response and writes it to the specified file.</p>
<h4>ExecutePythonFileAction</h4>
<p>Executes a Python script and captures its output.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>file_path</strong>: Path to the Python script</li>
</ul>
<p>Uses <code>asyncio.create_subprocess_shell</code> to run the script, capturing stdout and stderr. Returns execution results including return code and output.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>coding.py</a></li>
<li><a>code_generation.json</a></li>
<li><a>prompt_manager.py</a></li>
<li><a>llm.py</a></li>
</ul>
<h3>IO Actions</h3>
<h4>LogMessageAction</h4>
<p>Records messages to the console with configurable logging levels.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>message</strong>: Content to log</li>
<li><strong>level</strong>: Logging level (info, warning, error)</li>
</ul>
<p>Appends "[AGI Thought]:" prefix to messages for easy identification in logs.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>io.py</a></li>
</ul>
<h3>Multi-modal Actions</h3>
<p>These actions process various media types and are registered by the <code>EnhancedActionManager</code>.</p>
<h4>ProcessImageAction</h4>
<p>Analyzes image files using multi-modal services.</p>
<h4>ProcessAudioAction</h4>
<p>Processes and analyzes audio files.</p>
<h4>AnalyzeDirectoryAction</h4>
<p>Analyzes all media files in a directory, optionally recursively.</p>
<h4>CrossModalAnalysisAction</h4>
<p>Performs analysis across multiple content types.</p>
<p>These actions validate file existence before processing and can add results to the knowledge base.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>multi_modal.py</a></li>
<li><a>enhanced_action_manager.py</a></li>
</ul>
<h3>Experimental Actions</h3>
<h4>ProposeAndTestInventionAction</h4>
<p>Enables the AGI to propose novel ideas and test them through the experimentation engine.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>invention_description</strong>: The novel concept</li>
<li><strong>test_plan_suggestion</strong>: How to test it</li>
</ul>
<p>Frames the invention as a hypothesis and runs it through the advanced experimentation engine, logging results to the database. This action represents the AGI's creative and scientific reasoning capabilities.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>experimental.py</a></li>
</ul>
<h3>Blog Actions</h3>
<p>New blog-specific actions have been added to support autonomous content creation and publishing.</p>
<h4>BlogPublishAction</h4>
<p>Orchestrates the complete blog publishing workflow, from content generation to platform publication.</p>
<pre><code>classDiagram
class BlogPublishAction {
+api_interface : BlogAPIInterface
+content_generator : BlogContentGenerator
+name : str
+description : str
+parameters : List[Dict[str, Any]]
+execute(**kwargs : Any) : Dict[str, Any]
+_log_blog_action(result : Dict[str, Any], action_type : str) : None
+_format_memory_content(result : Dict[str, Any], action_type : str) : str
+test_connection() : Dict[str, Any]
+_calculate_emotional_valence(result : Dict[str, Any], action_type : str) : float
+get_configuration_info() : Dict[str, Any]
}
BlogPublishAction --|> Action : "inherits"
BlogPublishAction --> BlogAPIInterface : "uses"
BlogPublishAction --> BlogContentGenerator : "uses"
</code></pre>
<p><strong>Diagram sources</strong></p>
<ul>
<li><a>blog.py</a></li>
<li><a>blog_api.py</a></li>
<li><a>blog_content_generator.py</a></li>
</ul>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>topic</strong>: Main subject for the blog post (required)</li>
<li><strong>style</strong>: Writing style from available options (optional)</li>
<li><strong>context</strong>: Additional aspects to focus on (optional)</li>
<li><strong>custom_tags</strong>: Tags to include beyond auto-generated ones (optional)</li>
<li><strong>dry_run</strong>: If true, generates content without publishing (optional)</li>
</ul>
<p>The action follows a comprehensive workflow:</p>
<ol>
<li>Validates configuration and parameters</li>
<li>Generates content using LLM with memory context</li>
<li>Validates API configuration</li>
<li>Publishes to the blog platform</li>
<li>Logs results to data and memory services</li>
</ol>
<p>The action includes comprehensive error handling for content generation failures, API errors, and unexpected exceptions. It also provides utility methods like <code>test_connection()</code> for API connectivity testing and <code>get_configuration_info()</code> for retrieving current blog settings.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>blog.py</a></li>
<li><a>blog_api.py</a></li>
<li><a>blog_content_generator.py</a></li>
</ul>
<h3>Collaborative Task Actions</h3>
<p>New collaborative task actions have been added to support cross-system task delegation and user collaboration.</p>
<h4>CollaborativeTaskAction</h4>
<p>Manages collaborative tasks between RAVANA and users with feedback mechanisms.</p>
<pre><code>classDiagram
class CollaborativeTaskAction {
+system : AGISystem
+data_service : DataService
+collaborative_tasks : Dict[str, Any]
+task_feedback : Dict[str, Any]
+name : str
+description : str
+parameters : List[Dict[str, Any]]
+execute(**kwargs : Any) : Dict[str, Any]
+_create_task(title : str, description : str, user_id : str, priority : str, deadline : str) : Dict[str, Any]
+_update_task(task_id : str, title : str, description : str, priority : str, deadline : str) : Dict[str, Any]
+_complete_task(task_id : str) : Dict[str, Any]
+_cancel_task(task_id : str) : Dict[str, Any]
+_provide_feedback(task_id : str, user_id : str, feedback : str, feedback_type : str, rating : int) : Dict[str, Any]
+_request_feedback(task_id : str, user_id : str) : Dict[str, Any]
+get_task(task_id : str) : Dict[str, Any]
+get_user_tasks(user_id : str) : list
+get_task_feedback(task_id : str) : List[Dict[str, Any]]
+get_user_feedback(user_id : str) : List[Dict[str, Any]]
+analyze_collaboration_patterns() : Dict[str, Any]
+_get_most_active_users() : Dict[str, int]
}
CollaborativeTaskAction --|> Action : "inherits"
</code></pre>
<p><strong>Diagram sources</strong></p>
<ul>
<li><a>collaborative_task.py</a></li>
</ul>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>task_type</strong>: Type of collaborative task (create, update, complete, cancel, provide_feedback, request_feedback)</li>
<li><strong>task_id</strong>: Unique identifier for the task (required for update, complete, cancel, provide_feedback)</li>
<li><strong>title</strong>: Title of the task (required for create)</li>
<li><strong>description</strong>: Detailed description of the task</li>
<li><strong>user_id</strong>: User ID to collaborate with</li>
<li><strong>priority</strong>: Priority level (low, medium, high, critical)</li>
<li><strong>deadline</strong>: Deadline for task completion (ISO format)</li>
<li><strong>feedback</strong>: Feedback content (required for provide_feedback)</li>
<li><strong>feedback_type</strong>: Type of feedback (positive, negative, suggestion, question)</li>
<li><strong>rating</strong>: Numerical rating for the task (1-10)</li>
</ul>
<p>The action supports a comprehensive workflow for collaborative task management:</p>
<ol>
<li><strong>Create tasks</strong>: Initiates new collaborative tasks with users</li>
<li><strong>Update tasks</strong>: Modifies existing task details</li>
<li><strong>Complete tasks</strong>: Marks tasks as completed with user notification</li>
<li><strong>Cancel tasks</strong>: Cancels tasks with user notification</li>
<li><strong>Provide feedback</strong>: Collects user feedback on task performance</li>
<li><strong>Request feedback</strong>: Proactively requests feedback from users</li>
</ol>
<p>The action integrates with the conversational AI system to send notifications and messages to users at key points in the task lifecycle. It maintains in-memory storage for tasks and feedback, with comprehensive logging and history tracking for all collaboration events.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>collaborative_task.py</a></li>
</ul>
<h2>Prompt Management System</h2>
<p>The system now features a centralized PromptManager that handles all prompt templates and their dynamic enhancement.</p>
<pre><code>classDiagram
class PromptManager {
+agi_system : AGISystem
+repository : PromptRepository
+enhancer : PromptEnhancer
+__init__(agi_system : AGISystem)
+_register_default_templates() : None
+get_prompt(template_name : str, context : Dict[str, Any]) : str
+register_prompt_template(name : str, template : str, metadata : Dict[str, Any]) : None
+_post_process_prompt(prompt : str, context : Dict[str, Any]) : str
}
PromptManager --> PromptRepository : "uses"
PromptManager --> PromptEnhancer : "uses"
</code></pre>
<p><strong>Diagram sources</strong></p>
<ul>
<li><a>prompt_manager.py</a></li>
</ul>
<h3>Centralized Prompt Repository</h3>
<p>The PromptManager uses a repository pattern to store and retrieve prompt templates from JSON files in the prompts directory. Each template includes:</p>
<ul>
<li><strong>name</strong>: Unique identifier for the prompt</li>
<li><strong>template</strong>: The actual prompt text with placeholders</li>
<li><strong>metadata</strong>: Additional information about category, description, and version</li>
<li><strong>version</strong>: Version tracking for prompt evolution</li>
<li><strong>created_at/updated_at</strong>: Timestamps for version history</li>
</ul>
<h3>Enhanced Prompt Structure</h3>
<p>The coding action now uses a structured prompt with multiple sections that guide the LLM's response:</p>
<ul>
<li><strong>[ROLE DEFINITION]</strong>: Establishes the AI's identity and expertise</li>
<li><strong>[CONTEXT]</strong>: Provides specific task details and parameters</li>
<li><strong>[TASK INSTRUCTIONS]</strong>: Step-by-step process for completing the task</li>
<li><strong>[REASONING FRAMEWORK]</strong>: Methodological approach to problem-solving</li>
<li><strong>[OUTPUT REQUIREMENTS]</strong>: Specific format and quality expectations</li>
<li><strong>[SAFETY CONSTRAINTS]</strong>: Security and reliability guidelines</li>
</ul>
<h3>Dynamic Prompt Enhancement</h3>
<p>The system applies dynamic enhancements to prompts through post-processing:</p>
<ul>
<li><strong>Mood adaptation</strong>: Adjusts prompt tone based on the AI's emotional state</li>
<li><strong>Safety constraints</strong>: Adds context-specific safety requirements</li>
<li><strong>Confidence scoring</strong>: Requires the LLM to include confidence scores</li>
<li><strong>Risk assessment</strong>: Adds requirements for risk identification and mitigation</li>
</ul>
<h3>Template Registration and Retrieval</h3>
<p>The system automatically loads all JSON files in the prompts directory as templates. Templates can be retrieved by name with context variables that are automatically substituted. The system validates prompts for required sections before use.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>prompt_manager.py</a></li>
<li><a>code_generation.json</a></li>
</ul>
<h2>Defining and Registering Custom Actions</h2>
<p>Creating custom actions follows a straightforward process outlined in the developer guide.</p>
<h3>Action Structure Requirements</h3>
<p>All custom actions must:</p>
<ol>
<li>Inherit from the <code>Action</code> base class</li>
<li>Implement the required properties (<code>name</code>, <code>description</code>, <code>parameters</code>)</li>
<li>Implement the <code>execute</code> method with async functionality</li>
</ol>
<h3>Step-by-Step Implementation</h3>
<ol>
<li><strong>Create a Python file</strong> in <code>core/actions/</code> (e.g., <code>core/actions/misc.py</code>)</li>
<li><strong>Define the action class</strong> inheriting from <code>Action</code></li>
<li><strong>Implement required properties</strong> with appropriate metadata</li>
<li><strong>Implement the execute method</strong> with the desired functionality</li>
</ol>
<pre><code class="language-python">from core.actions.action import Action
from typing import Any, Dict, List

class HelloWorldAction(Action):
    @property
    def name(self) -> str:
        return "hello_world"

    @property
    def description(self) -> str:
        return "A simple action that prints a greeting."

    @property
    def parameters(self) -> List[Dict[str, Any]]:
        return [
            {
                "name": "name",
                "type": "string",
                "description": "The name to include in the greeting.",
                "required": True,
            }
        ]

    async def execute(self, **kwargs: Any) -> Any:
        name = kwargs.get("name")
        return f"Hello, {name}!"
</code></pre>
<h3>Registration Mechanism</h3>
<p>Custom actions are automatically discovered and registered when:</p>
<ul>
<li>The action class is defined in a module within <code>core.actions</code></li>
<li>The class inherits from <code>Action</code> and is not the base class itself</li>
<li>The module is importable</li>
</ul>
<p>No manual registration is required - the <code>discover_actions</code> method will automatically find and instantiate the action during system initialization.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>DEVELOPER_GUIDE.md</a></li>
<li><a>action.py</a></li>
<li><a>registry.py</a></li>
</ul>
<h2>System State and Service Interaction</h2>
<p>Actions interact with system state and services through dependencies injected during initialization.</p>
<h3>Dependency Injection</h3>
<p>The <code>Action</code> base class constructor accepts two dependencies:</p>
<ul>
<li><strong>system</strong>: Reference to the main <code>AGISystem</code> instance</li>
<li><strong>data_service</strong>: Reference to the <code>DataService</code> for database operations</li>
</ul>
<p>These dependencies are passed down from the <code>ActionManager</code> through the <code>ActionRegistry</code> to all action instances.</p>
<h3>State Access Patterns</h3>
<p>Actions access system state through the injected dependencies:</p>
<ul>
<li><strong>AGISystem</strong>: Provides access to other system components like <code>knowledge_service</code></li>
<li><strong>DataService</strong>: Enables database operations like logging actions and experiments</li>
</ul>
<p>For example, the <code>ProposeAndTestInventionAction</code> uses <code>self.data_service.save_experiment_log</code> to record experiment results, while multi-modal actions use <code>self.system.knowledge_service.add_knowledge</code> to update the knowledge base.</p>
<h3>Service Integration</h3>
<p>The enhanced action manager demonstrates deeper service integration by:</p>
<ul>
<li>Creating a <code>MultiModalService</code> instance for media processing</li>
<li>Using <code>asyncio.to_thread</code> to call synchronous service methods without blocking the event loop</li>
<li>Implementing caching mechanisms to improve performance</li>
</ul>
<p>This pattern ensures that actions can leverage system services while maintaining proper separation of concerns.</p>
<p><strong>Section sources</strong></p>
<ul>
<li><a>action.py</a></li>
<li><a>action_manager.py</a></li>
<li><a>enhanced_action_manager.py</a></li>
</ul>
<h2>Security Considerations for Action Execution</h2>
<p>The action system incorporates several security measures to prevent misuse and ensure safe execution.</p>
<h3>Code Execution Safety</h3>
<p>The <code>ExecutePythonFileAction</code> executes code in subprocesses, which provides isolation from the main application process. However, this still represents a potential security risk as executed code has full system access.</p>
<p>The <code>EnhancedActionManager</code> implements a 5-minute timeout for action execution using <code>asyncio.wait_for</code>, preventing infinite loops or long-running processes from blocking the system.</p>
<h3>Enhanced Safety Constraints</h3>
<p>The enhanced code generation prompt includes comprehensive safety constraints:</p>
<ul>
<li><strong>Security vulnerabilities</strong>: Prevents injection, buffer overflows, and other vulnerabilities</li>
<li><strong>Resource leaks</strong>: Ensures proper resource management and memory handling</li>
<li><strong>Unintended actions</strong>: Validates that code performs only intended operations</li>
<li><strong>Input/output validation</strong>: Requires validation of all inputs and outputs</li>
<li><strong>Secure coding practices</strong>: Enforces adherence to security best practices</li>
</ul>
<p>These constraints are embedded in the prompt structure and are applied to all code generation requests.</p>
<h3>Blog-Specific Security</h3>
<p>The <code>BlogPublishAction</code> introduces new security considerations:</p>
<ul>
<li><strong>API Key Management</strong>: The action uses the enhanced Gemini API key management system with automatic rotation</li>
<li><strong>Content Validation</strong>: Generated content is validated before publication</li>
<li><strong>Dry Run Mode</strong>: Allows content generation without actual publication for review</li>
<li><strong>Configuration Validation</strong>: API configuration is validated before any publication attempts</li>
</ul>
<h3>Collaboration-Specific Security</h3>
<p>The <code>CollaborativeTaskAction</code> introduces new security considerations:</p>
<ul>
<li><strong>User ID Validation</strong>: Ensures user IDs are properly validated before task creation</li>
<li><strong>Rating Validation</strong>: Validates that ratings are within the 1-10 range</li>
<li><strong>Feedback Sanitization</strong>: Should implement input sanitization for feedback content</li>
<li><strong>Task Ownership</strong>: Ensures users can only modify tasks they own</li>
</ul>
<h3>Input Validation</h3>
<p>The base <code>Action</code> class includes <code>validate_params</code> which:</p>
<ul>
<li>Checks for missing required parameters</li>
<li>Rejects unexpected parameters</li>
<li>Raises <code>InvalidActionParams</code> for invalid inputs</li>
</ul>
<p>This prevents actions from executing with incomplete or malformed data.</p>
<h3>Permission and Access Control</h3>
<p>Currently, the system lacks explicit permission controls. Actions have access to:</p>
<ul>
<li>Full file system (via file paths)</li>
<li>Database operations</li>
<li>System process execution</li>
</ul>
<p>For production use, additional security layers should be implemented, such as:</p>
<ul>
<li>Sandboxed execution environments</li>
<li>File system access restrictions</li>
<li>Rate limiting for resource-intensive actions</li>
<li>Action-specific permission policies</li>
</ul>
<h3>Self-Modification Risks</h3>
<p>The system allows actions to write and execute code, creating potential self-modification capabilities. While this enables powerful autonomous behavior, it also introduces risks:</p>
<ul>
<li>Code generation errors could corrupt system functionality</li>
<li>Malicious LLM output could introduce harmful code</li>
<li>Recursive self-modification could lead to instability</li>
</ul>
<p>Mitigation strategies include:</p>
<ul>
<li>Code review before execution (not currently implemented)</li>
<li>Backup and rollback mechanisms</li>
<li>Execution in isolated environments</li>
<li>Static analysis of generated code</li>
</ul>
<p><strong>Section sources</strong></p>
<ul>
<li><a>action_manager.py</a></li>
<li><a>enhanced_action_manager.py</a></li>
<li><a>coding.py</a></li>
<li><a>blog.py</a></li>
<li><a>collaborative_task.py</a></li>
<li><a>prompt_manager.py</a></li>
</ul>
<h2>Troubleshooting Common Issues</h2>
<h3>Registration Failures</h3>
<p><strong>Symptoms:</strong> Action not found in registry, <code>ActionException</code> with "Action 'action_name' not found"
<strong>Causes and Solutions:</strong></p>
<ul>
<li><strong>Class not discovered</strong>: Ensure the action class is in a module within <code>core.actions</code> and properly imports the <code>Action</code> base class</li>
<li><strong>Instantiation error</strong>: Check for exceptions in the <code>__init__</code> method; the discovery mechanism logs instantiation errors</li>
<li><strong>Name collision</strong>: The registry overwrites actions with duplicate names; check logs for overwrite warnings</li>
<li><strong>Missing required properties</strong>: Verify implementation of <code>name</code>, <code>description</code>, and <code>parameters</code> properties</li>
</ul>
<h3>Execution Timeouts</h3>
<p><strong>Symptoms:</strong> Actions failing with "Action timed out" message
<strong>Causes and Solutions:</strong></p>
<ul>
<li><strong>Long-running operations</strong>: The <code>EnhancedActionManager</code> enforces a 5-minute timeout; optimize action logic or increase timeout if appropriate</li>
<li><strong>Blocking operations</strong>: Ensure all I/O operations use async patterns; use <code>asyncio.to_thread</code> for synchronous calls</li>
<li><strong>Resource constraints</strong>: Check system resources (CPU, memory, disk I/O) that may slow execution</li>
</ul>
<h3>Permission Issues</h3>
<p><strong>Symptoms:</strong> File not found, permission denied, or subprocess execution failures
<strong>Causes and Solutions:</strong></p>
<ul>
<li><strong>File access</strong>: Verify the application has read/write permissions to specified file paths</li>
<li><strong>Directory existence</strong>: Check that directories exist before writing files</li>
<li><strong>Subprocess execution</strong>: Ensure Python is in the system PATH and the executing user has permission to run subprocesses</li>
<li><strong>Absolute vs relative paths</strong>: Use absolute paths or ensure relative paths are correct relative to the working directory</li>
</ul>
<h3>Parameter Validation Errors</h3>
<p><strong>Symptoms:</strong> <code>InvalidActionParams</code> exceptions with messages about missing or unexpected parameters
<strong>Causes and Solutions:</strong></p>
<ul>
<li><strong>Missing required parameters</strong>: Ensure all parameters marked as <code>required: True</code> are provided</li>
<li><strong>Typos in parameter names</strong>: Double-check parameter names match exactly</li>
<li><strong>Extra parameters</strong>: Remove parameters not defined in the action's <code>parameters</code> list</li>
<li><strong>Type mismatches</strong>: Ensure parameter values match the expected types</li>
</ul>
<h3>General Debugging Tips</h3>
<ul>
<li>Check application logs for detailed error messages and stack traces</li>
<li>Verify action registration by checking the "Available Actions" log output during startup</li>
<li>Use the <code>get_action_definitions</code> method to inspect registered action schemas</li>
<li>Test actions in isolation when possible</li>
<li>Monitor the action log database table for execution history and errors</li>
</ul>
<p><strong>Section sources</strong></p>
<ul>
<li><a>action_manager.py</a></li>
<li><a>action.py</a></li>
<li><a>exceptions.py</a></li>
<li><a>enhanced_action_manager.py</a></li>
</ul>
<h2>Conclusion</h2>
<p>The Action System in the Ravana AGI framework provides a robust, extensible foundation for autonomous behavior. By defining a clear contract through the <code>Action</code> base class, implementing a flexible registration mechanism in <code>ActionRegistry</code>, and orchestrating execution through <code>ActionManager</code>, the system enables both built-in and custom actions to be seamlessly integrated. The architecture supports various action types including coding, IO, multi-modal, experimental, blog-specific, and now collaborative task actions, allowing the AGI to perform diverse tasks. The recent addition of <code>CollaborativeTaskAction</code> enhances the system's cross-system task delegation capabilities, enabling end-to-end collaborative workflows with user feedback mechanisms. The enhanced prompt management system with structured templates and dynamic enhancement significantly improves code generation quality and safety. While the system includes basic security measures like input validation and execution timeouts, additional safeguards would be beneficial for production deployment, particularly around code execution and permission controls. The automatic discovery mechanism and clear implementation guidelines make it straightforward to extend the AGI's capabilities with new actions, supporting the system's goal of continuous learning and adaptation.</p>
<p><strong>Referenced Files in This Document</strong></p>
<ul>
<li><a>action.py</a> - <em>Base Action class implementation</em></li>
<li><a>registry.py</a> - <em>ActionRegistry with CollaborativeTaskAction registration</em></li>
<li><a>action_manager.py</a></li>
<li><a>coding.py</a> - <em>Enhanced code generation prompt implementation</em></li>
<li><a>io.py</a></li>
<li><a>multi_modal.py</a></li>
<li><a>experimental.py</a></li>
<li><a>exceptions.py</a></li>
<li><a>enhanced_action_manager.py</a></li>
<li><a>blog.py</a> - <em>Added in recent commit</em></li>
<li><a>blog_api.py</a> - <em>Dependency for BlogPublishAction</em></li>
<li><a>blog_content_generator.py</a> - <em>Dependency for BlogPublishAction</em></li>
<li><a>collaborative_task.py</a> - <em>Added in recent commit</em></li>
<li><a>DEVELOPER_GUIDE.md</a></li>
<li><a>prompt_manager.py</a> - <em>Prompt management system with enhanced templates</em></li>
<li><a>code_generation.json</a> - <em>Enhanced code generation prompt template</em></li>
<li><a>llm.py</a> - <em>LLM integration and call handling</em></li>
</ul>
</div></article><div class="w-full md:w-64 flex-shrink-0"></div></div></main></div><footer class="bg-wiki-dark text-white p-4"><div class="container mx-auto text-center"><p>Â© <!-- -->2025<!-- --> RAVANA AGI System Documentation</p></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"doc":{"slug":"Action System","title":"Action System","content":"\u003ch1\u003eAction System\u003c/h1\u003e\n\u003ch2\u003eUpdate Summary\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eChanges Made\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eUpdated Coding Actions section to reflect enhanced code generation prompt with structured role, task instructions, reasoning framework, output requirements, and safety constraints\u003c/li\u003e\n\u003cli\u003eAdded new section on Prompt Management System to explain centralized prompt handling\u003c/li\u003e\n\u003cli\u003eEnhanced security considerations with additional safety constraints from the enhanced prompt\u003c/li\u003e\n\u003cli\u003eUpdated referenced files list to include prompt_manager.py, code_generation.json, and llm.py\u003c/li\u003e\n\u003cli\u003eAdded details about dynamic prompt enhancement with mood adaptation and safety constraints\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eTable of Contents\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"#introduction\"\u003eIntroduction\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#action-base-class-and-execute-contract\"\u003eAction Base Class and Execute Contract\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#action-registry-and-discovery-mechanism\"\u003eAction Registry and Discovery Mechanism\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#action-manager-execution-lifecycle\"\u003eAction Manager Execution Lifecycle\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#built-in-action-types-and-use-cases\"\u003eBuilt-in Action Types and Use Cases\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#prompt-management-system\"\u003ePrompt Management System\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#defining-and-registering-custom-actions\"\u003eDefining and Registering Custom Actions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#system-state-and-service-interaction\"\u003eSystem State and Service Interaction\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#security-considerations-for-action-execution\"\u003eSecurity Considerations for Action Execution\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#troubleshooting-common-issues\"\u003eTroubleshooting Common Issues\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#conclusion\"\u003eConclusion\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003eThe Action System is a core component of the Ravana AGI framework, responsible for executing tasks based on decisions made by the decision engine. It provides a structured, extensible mechanism for defining, registering, and executing actions that the AGI can perform. The system is designed with modularity, safety, and scalability in mind, enabling both built-in and custom actions to be seamlessly integrated. This document provides a comprehensive overview of the action system's architecture, functionality, and best practices.\u003c/p\u003e\n\u003ch2\u003eAction Base Class and Execute Contract\u003c/h2\u003e\n\u003cp\u003eThe \u003ccode\u003eAction\u003c/code\u003e class serves as the abstract base class for all executable actions within the system. It defines a standardized interface that ensures consistency across different types of actions.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eclassDiagram\nclass Action {\n\u0026#x3C;\u0026#x3C;abstract\u003e\u003e\n+system : AGISystem\n+data_service : DataService\n+name : str\n+description : str\n+parameters : List[Dict[str, Any]]\n+execute(**kwargs : Any) : Any\n+validate_params(params : Dict[str, Any]) : None\n+to_dict() : Dict[str, Any]\n+to_json() : str\n}\nAction \u0026#x3C;|-- WritePythonCodeAction\nAction \u0026#x3C;|-- ExecutePythonFileAction\nAction \u0026#x3C;|-- LogMessageAction\nAction \u0026#x3C;|-- ProposeAndTestInventionAction\nAction \u0026#x3C;|-- ProcessImageAction\nAction \u0026#x3C;|-- BlogPublishAction\nAction \u0026#x3C;|-- CollaborativeTaskAction\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eDiagram sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eaction.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eKey Properties\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003ename\u003c/strong\u003e: A unique identifier for the action (e.g., \"write_python_code\")\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003edescription\u003c/strong\u003e: Human-readable explanation of what the action does\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eparameters\u003c/strong\u003e: List of dictionaries defining input parameters with name, type, description, and required status\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eExecute Method Contract\u003c/h3\u003e\n\u003cp\u003eThe \u003ccode\u003eexecute\u003c/code\u003e method is an abstract async method that must be implemented by all subclasses. It receives keyword arguments matching the defined parameters and returns the result of the action execution. The method contract requires:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eParameter validation via \u003ccode\u003evalidate_params\u003c/code\u003e before execution\u003c/li\u003e\n\u003cli\u003eAsynchronous execution using \u003ccode\u003easync/await\u003c/code\u003e pattern\u003c/li\u003e\n\u003cli\u003eProper error handling and logging\u003c/li\u003e\n\u003cli\u003eReturn of a dictionary with status information or execution results\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eValidation and Serialization\u003c/h3\u003e\n\u003cp\u003eThe base class provides built-in validation through \u003ccode\u003evalidate_params\u003c/code\u003e, which checks for missing required parameters and unexpected parameters. It also includes \u003ccode\u003eto_dict\u003c/code\u003e and \u003ccode\u003eto_json\u003c/code\u003e methods for serializing action metadata, which is used in LLM prompts and API responses.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eaction.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eAction Registry and Discovery Mechanism\u003c/h2\u003e\n\u003cp\u003eThe \u003ccode\u003eActionRegistry\u003c/code\u003e is responsible for managing the collection of available actions and providing lookup functionality.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eclassDiagram\nclass ActionRegistry {\n-actions : Dict[str, Action]\n+__init__(system : AGISystem, data_service : DataService)\n+_register_action(action : Action) : None\n+register_action(action : Action) : None\n+discover_actions() : None\n+get_action(name : str) : Action\n+get_all_actions() : List[Action]\n+get_action_definitions() : str\n}\nActionRegistry --\u003e Action : \"contains\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eDiagram sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eregistry.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eRegistration Process\u003c/h3\u003e\n\u003cp\u003eThe registry initializes with several built-in actions:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eProposeAndTestInventionAction\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eLogMessageAction\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eWritePythonCodeAction\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eExecutePythonFileAction\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eBlogPublishAction\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eCollaborativeTaskAction\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThese are registered during initialization with their required dependencies (system and data_service). The \u003ccode\u003eCollaborativeTaskAction\u003c/code\u003e is now included as a core built-in action, reflecting its importance in the cross-system task delegation workflow.\u003c/p\u003e\n\u003ch3\u003ePublic Registration Methods\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eregister_action\u003c/strong\u003e: Public method to register a new action instance\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e_register_action\u003c/strong\u003e: Internal method that handles registration with overwrite warnings\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eAutomatic Discovery\u003c/h3\u003e\n\u003cp\u003eThe \u003ccode\u003ediscover_actions\u003c/code\u003e method uses Python's \u003ccode\u003epkgutil.walk_packages\u003c/code\u003e to automatically discover and register all action classes in the \u003ccode\u003ecore.actions\u003c/code\u003e package. It:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eIterates through all modules in the actions package\u003c/li\u003e\n\u003cli\u003eImports each module\u003c/li\u003e\n\u003cli\u003eFinds all classes that inherit from \u003ccode\u003eAction\u003c/code\u003e (excluding the base class itself)\u003c/li\u003e\n\u003cli\u003eInstantiates and registers each action\u003c/li\u003e\n\u003cli\u003eLogs warnings for duplicate names and errors for instantiation failures\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThis discovery mechanism enables plug-and-play extensibility - new actions can be added by simply creating a new file in the actions directory with a properly defined action class.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eregistry.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eAction Manager Execution Lifecycle\u003c/h2\u003e\n\u003cp\u003eThe \u003ccode\u003eActionManager\u003c/code\u003e orchestrates the execution of actions, handling the complete lifecycle from decision parsing to result return.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esequenceDiagram\nparticipant DecisionEngine\nparticipant ActionManager\nparticipant ActionRegistry\nparticipant Action\nparticipant DataService\nDecisionEngine-\u003e\u003eActionManager : execute_action(decision)\nActionManager-\u003e\u003eActionManager : Parse decision format\nalt Raw LLM Response\nActionManager-\u003e\u003eActionManager : Extract JSON from response\nActionManager-\u003e\u003eActionManager : Parse JSON to action_data\nelse Pre-parsed Action\nActionManager-\u003e\u003eActionManager : Use action_data directly\nend\nActionManager-\u003e\u003eActionManager : Validate action_data structure\nActionManager-\u003e\u003eActionRegistry : get_action(action_name)\nActionRegistry--\u003e\u003eActionManager : Return Action instance\nActionManager-\u003e\u003eAction : execute(**action_params)\nAction--\u003e\u003eActionManager : Return execution result\nActionManager-\u003e\u003eDataService : save_action_log(success)\nActionManager--\u003e\u003eDecisionEngine : Return result\nalt Execution Error\nAction--\u003e\u003eActionManager : Raise exception\nActionManager-\u003e\u003eDataService : save_action_log(error)\nActionManager--\u003e\u003eDecisionEngine : Return error object\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eDiagram sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eaction_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eDecision Parsing\u003c/h3\u003e\n\u003cp\u003eThe \u003ccode\u003eexecute_action\u003c/code\u003e method handles two decision formats:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003ePre-parsed action dictionary\u003c/strong\u003e: Contains \"action\" and \"params\" keys\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eRaw LLM response\u003c/strong\u003e: Contains \"raw_response\" with JSON embedded in markdown code blocks\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eFor raw responses, the system extracts the JSON block using string manipulation and parses it. If no valid JSON block is found, it attempts to parse the entire response as JSON.\u003c/p\u003e\n\u003ch3\u003eExecution Flow\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eExtract action name and parameters from the decision\u003c/li\u003e\n\u003cli\u003eRetrieve the action instance from the registry\u003c/li\u003e\n\u003cli\u003eLog the execution attempt\u003c/li\u003e\n\u003cli\u003eExecute the action with provided parameters\u003c/li\u003e\n\u003cli\u003eLog successful execution to the database\u003c/li\u003e\n\u003cli\u003eReturn the result\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3\u003eError Handling\u003c/h3\u003e\n\u003cp\u003eThe execution lifecycle includes comprehensive error handling:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eActionException\u003c/strong\u003e: For expected action-related errors (logged with error status)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eGeneral Exception\u003c/strong\u003e: For unexpected errors (logged with full traceback)\u003c/li\u003e\n\u003cli\u003eAll errors are logged to the database via \u003ccode\u003esave_action_log\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe method returns a standardized error object with an \"error\" key, ensuring consistent error reporting to the decision engine.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eaction_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eBuilt-in Action Types and Use Cases\u003c/h2\u003e\n\u003cp\u003eThe system provides several built-in action types categorized by functionality.\u003c/p\u003e\n\u003ch3\u003eCoding Actions\u003c/h3\u003e\n\u003cp\u003eThese actions enable the AGI to generate and execute code.\u003c/p\u003e\n\u003ch4\u003eWritePythonCodeAction\u003c/h4\u003e\n\u003cp\u003eGenerates Python code based on a hypothesis and test plan using the LLM with an enhanced prompt structure.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eParameters:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003efile_path\u003c/strong\u003e: Where to save the generated code\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ehypothesis\u003c/strong\u003e: The concept to test\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003etest_plan\u003c/strong\u003e: How to test the hypothesis\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe action uses a structured prompt template with multiple sections to guide code generation:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e[ROLE DEFINITION]\u003c/strong\u003e: Defines the AI as an expert programmer\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e[CONTEXT]\u003c/strong\u003e: Provides the hypothesis and test plan\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e[TASK INSTRUCTIONS]\u003c/strong\u003e: Step-by-step process for code generation\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e[REASONING FRAMEWORK]\u003c/strong\u003e: Software engineering best practices\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e[OUTPUT REQUIREMENTS]\u003c/strong\u003e: Specifications for code quality and format\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e[SAFETY CONSTRAINTS]\u003c/strong\u003e: Security and reliability guidelines\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe prompt ensures high-quality code generation by requiring:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eClear, descriptive variable and function names\u003c/li\u003e\n\u003cli\u003eComprehensive inline documentation\u003c/li\u003e\n\u003cli\u003eProper error handling and edge case management\u003c/li\u003e\n\u003cli\u003eEfficient algorithms and data structures\u003c/li\u003e\n\u003cli\u003eAdherence to Python conventions and best practices\u003c/li\u003e\n\u003cli\u003eConfidence score for solution correctness (0.0-1.0)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe action extracts code from markdown code blocks in the LLM response and writes it to the specified file.\u003c/p\u003e\n\u003ch4\u003eExecutePythonFileAction\u003c/h4\u003e\n\u003cp\u003eExecutes a Python script and captures its output.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eParameters:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003efile_path\u003c/strong\u003e: Path to the Python script\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eUses \u003ccode\u003easyncio.create_subprocess_shell\u003c/code\u003e to run the script, capturing stdout and stderr. Returns execution results including return code and output.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003ecoding.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003ecode_generation.json\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eprompt_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003ellm.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eIO Actions\u003c/h3\u003e\n\u003ch4\u003eLogMessageAction\u003c/h4\u003e\n\u003cp\u003eRecords messages to the console with configurable logging levels.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eParameters:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003emessage\u003c/strong\u003e: Content to log\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003elevel\u003c/strong\u003e: Logging level (info, warning, error)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAppends \"[AGI Thought]:\" prefix to messages for easy identification in logs.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eio.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eMulti-modal Actions\u003c/h3\u003e\n\u003cp\u003eThese actions process various media types and are registered by the \u003ccode\u003eEnhancedActionManager\u003c/code\u003e.\u003c/p\u003e\n\u003ch4\u003eProcessImageAction\u003c/h4\u003e\n\u003cp\u003eAnalyzes image files using multi-modal services.\u003c/p\u003e\n\u003ch4\u003eProcessAudioAction\u003c/h4\u003e\n\u003cp\u003eProcesses and analyzes audio files.\u003c/p\u003e\n\u003ch4\u003eAnalyzeDirectoryAction\u003c/h4\u003e\n\u003cp\u003eAnalyzes all media files in a directory, optionally recursively.\u003c/p\u003e\n\u003ch4\u003eCrossModalAnalysisAction\u003c/h4\u003e\n\u003cp\u003ePerforms analysis across multiple content types.\u003c/p\u003e\n\u003cp\u003eThese actions validate file existence before processing and can add results to the knowledge base.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003emulti_modal.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eenhanced_action_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eExperimental Actions\u003c/h3\u003e\n\u003ch4\u003eProposeAndTestInventionAction\u003c/h4\u003e\n\u003cp\u003eEnables the AGI to propose novel ideas and test them through the experimentation engine.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eParameters:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003einvention_description\u003c/strong\u003e: The novel concept\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003etest_plan_suggestion\u003c/strong\u003e: How to test it\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFrames the invention as a hypothesis and runs it through the advanced experimentation engine, logging results to the database. This action represents the AGI's creative and scientific reasoning capabilities.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eexperimental.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eBlog Actions\u003c/h3\u003e\n\u003cp\u003eNew blog-specific actions have been added to support autonomous content creation and publishing.\u003c/p\u003e\n\u003ch4\u003eBlogPublishAction\u003c/h4\u003e\n\u003cp\u003eOrchestrates the complete blog publishing workflow, from content generation to platform publication.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eclassDiagram\nclass BlogPublishAction {\n+api_interface : BlogAPIInterface\n+content_generator : BlogContentGenerator\n+name : str\n+description : str\n+parameters : List[Dict[str, Any]]\n+execute(**kwargs : Any) : Dict[str, Any]\n+_log_blog_action(result : Dict[str, Any], action_type : str) : None\n+_format_memory_content(result : Dict[str, Any], action_type : str) : str\n+test_connection() : Dict[str, Any]\n+_calculate_emotional_valence(result : Dict[str, Any], action_type : str) : float\n+get_configuration_info() : Dict[str, Any]\n}\nBlogPublishAction --|\u003e Action : \"inherits\"\nBlogPublishAction --\u003e BlogAPIInterface : \"uses\"\nBlogPublishAction --\u003e BlogContentGenerator : \"uses\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eDiagram sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eblog.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eblog_api.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eblog_content_generator.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eParameters:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003etopic\u003c/strong\u003e: Main subject for the blog post (required)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003estyle\u003c/strong\u003e: Writing style from available options (optional)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003econtext\u003c/strong\u003e: Additional aspects to focus on (optional)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ecustom_tags\u003c/strong\u003e: Tags to include beyond auto-generated ones (optional)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003edry_run\u003c/strong\u003e: If true, generates content without publishing (optional)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe action follows a comprehensive workflow:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eValidates configuration and parameters\u003c/li\u003e\n\u003cli\u003eGenerates content using LLM with memory context\u003c/li\u003e\n\u003cli\u003eValidates API configuration\u003c/li\u003e\n\u003cli\u003ePublishes to the blog platform\u003c/li\u003e\n\u003cli\u003eLogs results to data and memory services\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThe action includes comprehensive error handling for content generation failures, API errors, and unexpected exceptions. It also provides utility methods like \u003ccode\u003etest_connection()\u003c/code\u003e for API connectivity testing and \u003ccode\u003eget_configuration_info()\u003c/code\u003e for retrieving current blog settings.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eblog.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eblog_api.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eblog_content_generator.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eCollaborative Task Actions\u003c/h3\u003e\n\u003cp\u003eNew collaborative task actions have been added to support cross-system task delegation and user collaboration.\u003c/p\u003e\n\u003ch4\u003eCollaborativeTaskAction\u003c/h4\u003e\n\u003cp\u003eManages collaborative tasks between RAVANA and users with feedback mechanisms.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eclassDiagram\nclass CollaborativeTaskAction {\n+system : AGISystem\n+data_service : DataService\n+collaborative_tasks : Dict[str, Any]\n+task_feedback : Dict[str, Any]\n+name : str\n+description : str\n+parameters : List[Dict[str, Any]]\n+execute(**kwargs : Any) : Dict[str, Any]\n+_create_task(title : str, description : str, user_id : str, priority : str, deadline : str) : Dict[str, Any]\n+_update_task(task_id : str, title : str, description : str, priority : str, deadline : str) : Dict[str, Any]\n+_complete_task(task_id : str) : Dict[str, Any]\n+_cancel_task(task_id : str) : Dict[str, Any]\n+_provide_feedback(task_id : str, user_id : str, feedback : str, feedback_type : str, rating : int) : Dict[str, Any]\n+_request_feedback(task_id : str, user_id : str) : Dict[str, Any]\n+get_task(task_id : str) : Dict[str, Any]\n+get_user_tasks(user_id : str) : list\n+get_task_feedback(task_id : str) : List[Dict[str, Any]]\n+get_user_feedback(user_id : str) : List[Dict[str, Any]]\n+analyze_collaboration_patterns() : Dict[str, Any]\n+_get_most_active_users() : Dict[str, int]\n}\nCollaborativeTaskAction --|\u003e Action : \"inherits\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eDiagram sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003ecollaborative_task.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eParameters:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003etask_type\u003c/strong\u003e: Type of collaborative task (create, update, complete, cancel, provide_feedback, request_feedback)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003etask_id\u003c/strong\u003e: Unique identifier for the task (required for update, complete, cancel, provide_feedback)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003etitle\u003c/strong\u003e: Title of the task (required for create)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003edescription\u003c/strong\u003e: Detailed description of the task\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003euser_id\u003c/strong\u003e: User ID to collaborate with\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003epriority\u003c/strong\u003e: Priority level (low, medium, high, critical)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003edeadline\u003c/strong\u003e: Deadline for task completion (ISO format)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003efeedback\u003c/strong\u003e: Feedback content (required for provide_feedback)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003efeedback_type\u003c/strong\u003e: Type of feedback (positive, negative, suggestion, question)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003erating\u003c/strong\u003e: Numerical rating for the task (1-10)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe action supports a comprehensive workflow for collaborative task management:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eCreate tasks\u003c/strong\u003e: Initiates new collaborative tasks with users\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eUpdate tasks\u003c/strong\u003e: Modifies existing task details\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eComplete tasks\u003c/strong\u003e: Marks tasks as completed with user notification\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCancel tasks\u003c/strong\u003e: Cancels tasks with user notification\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eProvide feedback\u003c/strong\u003e: Collects user feedback on task performance\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eRequest feedback\u003c/strong\u003e: Proactively requests feedback from users\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThe action integrates with the conversational AI system to send notifications and messages to users at key points in the task lifecycle. It maintains in-memory storage for tasks and feedback, with comprehensive logging and history tracking for all collaboration events.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003ecollaborative_task.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003ePrompt Management System\u003c/h2\u003e\n\u003cp\u003eThe system now features a centralized PromptManager that handles all prompt templates and their dynamic enhancement.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eclassDiagram\nclass PromptManager {\n+agi_system : AGISystem\n+repository : PromptRepository\n+enhancer : PromptEnhancer\n+__init__(agi_system : AGISystem)\n+_register_default_templates() : None\n+get_prompt(template_name : str, context : Dict[str, Any]) : str\n+register_prompt_template(name : str, template : str, metadata : Dict[str, Any]) : None\n+_post_process_prompt(prompt : str, context : Dict[str, Any]) : str\n}\nPromptManager --\u003e PromptRepository : \"uses\"\nPromptManager --\u003e PromptEnhancer : \"uses\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eDiagram sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eprompt_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eCentralized Prompt Repository\u003c/h3\u003e\n\u003cp\u003eThe PromptManager uses a repository pattern to store and retrieve prompt templates from JSON files in the prompts directory. Each template includes:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003ename\u003c/strong\u003e: Unique identifier for the prompt\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003etemplate\u003c/strong\u003e: The actual prompt text with placeholders\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003emetadata\u003c/strong\u003e: Additional information about category, description, and version\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eversion\u003c/strong\u003e: Version tracking for prompt evolution\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ecreated_at/updated_at\u003c/strong\u003e: Timestamps for version history\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eEnhanced Prompt Structure\u003c/h3\u003e\n\u003cp\u003eThe coding action now uses a structured prompt with multiple sections that guide the LLM's response:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e[ROLE DEFINITION]\u003c/strong\u003e: Establishes the AI's identity and expertise\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e[CONTEXT]\u003c/strong\u003e: Provides specific task details and parameters\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e[TASK INSTRUCTIONS]\u003c/strong\u003e: Step-by-step process for completing the task\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e[REASONING FRAMEWORK]\u003c/strong\u003e: Methodological approach to problem-solving\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e[OUTPUT REQUIREMENTS]\u003c/strong\u003e: Specific format and quality expectations\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e[SAFETY CONSTRAINTS]\u003c/strong\u003e: Security and reliability guidelines\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eDynamic Prompt Enhancement\u003c/h3\u003e\n\u003cp\u003eThe system applies dynamic enhancements to prompts through post-processing:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eMood adaptation\u003c/strong\u003e: Adjusts prompt tone based on the AI's emotional state\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSafety constraints\u003c/strong\u003e: Adds context-specific safety requirements\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eConfidence scoring\u003c/strong\u003e: Requires the LLM to include confidence scores\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eRisk assessment\u003c/strong\u003e: Adds requirements for risk identification and mitigation\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eTemplate Registration and Retrieval\u003c/h3\u003e\n\u003cp\u003eThe system automatically loads all JSON files in the prompts directory as templates. Templates can be retrieved by name with context variables that are automatically substituted. The system validates prompts for required sections before use.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eprompt_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003ecode_generation.json\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eDefining and Registering Custom Actions\u003c/h2\u003e\n\u003cp\u003eCreating custom actions follows a straightforward process outlined in the developer guide.\u003c/p\u003e\n\u003ch3\u003eAction Structure Requirements\u003c/h3\u003e\n\u003cp\u003eAll custom actions must:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eInherit from the \u003ccode\u003eAction\u003c/code\u003e base class\u003c/li\u003e\n\u003cli\u003eImplement the required properties (\u003ccode\u003ename\u003c/code\u003e, \u003ccode\u003edescription\u003c/code\u003e, \u003ccode\u003eparameters\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003eImplement the \u003ccode\u003eexecute\u003c/code\u003e method with async functionality\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3\u003eStep-by-Step Implementation\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eCreate a Python file\u003c/strong\u003e in \u003ccode\u003ecore/actions/\u003c/code\u003e (e.g., \u003ccode\u003ecore/actions/misc.py\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDefine the action class\u003c/strong\u003e inheriting from \u003ccode\u003eAction\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eImplement required properties\u003c/strong\u003e with appropriate metadata\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eImplement the execute method\u003c/strong\u003e with the desired functionality\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003efrom core.actions.action import Action\nfrom typing import Any, Dict, List\n\nclass HelloWorldAction(Action):\n    @property\n    def name(self) -\u003e str:\n        return \"hello_world\"\n\n    @property\n    def description(self) -\u003e str:\n        return \"A simple action that prints a greeting.\"\n\n    @property\n    def parameters(self) -\u003e List[Dict[str, Any]]:\n        return [\n            {\n                \"name\": \"name\",\n                \"type\": \"string\",\n                \"description\": \"The name to include in the greeting.\",\n                \"required\": True,\n            }\n        ]\n\n    async def execute(self, **kwargs: Any) -\u003e Any:\n        name = kwargs.get(\"name\")\n        return f\"Hello, {name}!\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eRegistration Mechanism\u003c/h3\u003e\n\u003cp\u003eCustom actions are automatically discovered and registered when:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe action class is defined in a module within \u003ccode\u003ecore.actions\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eThe class inherits from \u003ccode\u003eAction\u003c/code\u003e and is not the base class itself\u003c/li\u003e\n\u003cli\u003eThe module is importable\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eNo manual registration is required - the \u003ccode\u003ediscover_actions\u003c/code\u003e method will automatically find and instantiate the action during system initialization.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eDEVELOPER_GUIDE.md\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eaction.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eregistry.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eSystem State and Service Interaction\u003c/h2\u003e\n\u003cp\u003eActions interact with system state and services through dependencies injected during initialization.\u003c/p\u003e\n\u003ch3\u003eDependency Injection\u003c/h3\u003e\n\u003cp\u003eThe \u003ccode\u003eAction\u003c/code\u003e base class constructor accepts two dependencies:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003esystem\u003c/strong\u003e: Reference to the main \u003ccode\u003eAGISystem\u003c/code\u003e instance\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003edata_service\u003c/strong\u003e: Reference to the \u003ccode\u003eDataService\u003c/code\u003e for database operations\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThese dependencies are passed down from the \u003ccode\u003eActionManager\u003c/code\u003e through the \u003ccode\u003eActionRegistry\u003c/code\u003e to all action instances.\u003c/p\u003e\n\u003ch3\u003eState Access Patterns\u003c/h3\u003e\n\u003cp\u003eActions access system state through the injected dependencies:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eAGISystem\u003c/strong\u003e: Provides access to other system components like \u003ccode\u003eknowledge_service\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDataService\u003c/strong\u003e: Enables database operations like logging actions and experiments\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor example, the \u003ccode\u003eProposeAndTestInventionAction\u003c/code\u003e uses \u003ccode\u003eself.data_service.save_experiment_log\u003c/code\u003e to record experiment results, while multi-modal actions use \u003ccode\u003eself.system.knowledge_service.add_knowledge\u003c/code\u003e to update the knowledge base.\u003c/p\u003e\n\u003ch3\u003eService Integration\u003c/h3\u003e\n\u003cp\u003eThe enhanced action manager demonstrates deeper service integration by:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCreating a \u003ccode\u003eMultiModalService\u003c/code\u003e instance for media processing\u003c/li\u003e\n\u003cli\u003eUsing \u003ccode\u003easyncio.to_thread\u003c/code\u003e to call synchronous service methods without blocking the event loop\u003c/li\u003e\n\u003cli\u003eImplementing caching mechanisms to improve performance\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThis pattern ensures that actions can leverage system services while maintaining proper separation of concerns.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eaction.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eaction_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eenhanced_action_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eSecurity Considerations for Action Execution\u003c/h2\u003e\n\u003cp\u003eThe action system incorporates several security measures to prevent misuse and ensure safe execution.\u003c/p\u003e\n\u003ch3\u003eCode Execution Safety\u003c/h3\u003e\n\u003cp\u003eThe \u003ccode\u003eExecutePythonFileAction\u003c/code\u003e executes code in subprocesses, which provides isolation from the main application process. However, this still represents a potential security risk as executed code has full system access.\u003c/p\u003e\n\u003cp\u003eThe \u003ccode\u003eEnhancedActionManager\u003c/code\u003e implements a 5-minute timeout for action execution using \u003ccode\u003easyncio.wait_for\u003c/code\u003e, preventing infinite loops or long-running processes from blocking the system.\u003c/p\u003e\n\u003ch3\u003eEnhanced Safety Constraints\u003c/h3\u003e\n\u003cp\u003eThe enhanced code generation prompt includes comprehensive safety constraints:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eSecurity vulnerabilities\u003c/strong\u003e: Prevents injection, buffer overflows, and other vulnerabilities\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eResource leaks\u003c/strong\u003e: Ensures proper resource management and memory handling\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eUnintended actions\u003c/strong\u003e: Validates that code performs only intended operations\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eInput/output validation\u003c/strong\u003e: Requires validation of all inputs and outputs\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSecure coding practices\u003c/strong\u003e: Enforces adherence to security best practices\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThese constraints are embedded in the prompt structure and are applied to all code generation requests.\u003c/p\u003e\n\u003ch3\u003eBlog-Specific Security\u003c/h3\u003e\n\u003cp\u003eThe \u003ccode\u003eBlogPublishAction\u003c/code\u003e introduces new security considerations:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eAPI Key Management\u003c/strong\u003e: The action uses the enhanced Gemini API key management system with automatic rotation\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eContent Validation\u003c/strong\u003e: Generated content is validated before publication\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDry Run Mode\u003c/strong\u003e: Allows content generation without actual publication for review\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eConfiguration Validation\u003c/strong\u003e: API configuration is validated before any publication attempts\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eCollaboration-Specific Security\u003c/h3\u003e\n\u003cp\u003eThe \u003ccode\u003eCollaborativeTaskAction\u003c/code\u003e introduces new security considerations:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eUser ID Validation\u003c/strong\u003e: Ensures user IDs are properly validated before task creation\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eRating Validation\u003c/strong\u003e: Validates that ratings are within the 1-10 range\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eFeedback Sanitization\u003c/strong\u003e: Should implement input sanitization for feedback content\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTask Ownership\u003c/strong\u003e: Ensures users can only modify tasks they own\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eInput Validation\u003c/h3\u003e\n\u003cp\u003eThe base \u003ccode\u003eAction\u003c/code\u003e class includes \u003ccode\u003evalidate_params\u003c/code\u003e which:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eChecks for missing required parameters\u003c/li\u003e\n\u003cli\u003eRejects unexpected parameters\u003c/li\u003e\n\u003cli\u003eRaises \u003ccode\u003eInvalidActionParams\u003c/code\u003e for invalid inputs\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThis prevents actions from executing with incomplete or malformed data.\u003c/p\u003e\n\u003ch3\u003ePermission and Access Control\u003c/h3\u003e\n\u003cp\u003eCurrently, the system lacks explicit permission controls. Actions have access to:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eFull file system (via file paths)\u003c/li\u003e\n\u003cli\u003eDatabase operations\u003c/li\u003e\n\u003cli\u003eSystem process execution\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor production use, additional security layers should be implemented, such as:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSandboxed execution environments\u003c/li\u003e\n\u003cli\u003eFile system access restrictions\u003c/li\u003e\n\u003cli\u003eRate limiting for resource-intensive actions\u003c/li\u003e\n\u003cli\u003eAction-specific permission policies\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eSelf-Modification Risks\u003c/h3\u003e\n\u003cp\u003eThe system allows actions to write and execute code, creating potential self-modification capabilities. While this enables powerful autonomous behavior, it also introduces risks:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCode generation errors could corrupt system functionality\u003c/li\u003e\n\u003cli\u003eMalicious LLM output could introduce harmful code\u003c/li\u003e\n\u003cli\u003eRecursive self-modification could lead to instability\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eMitigation strategies include:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCode review before execution (not currently implemented)\u003c/li\u003e\n\u003cli\u003eBackup and rollback mechanisms\u003c/li\u003e\n\u003cli\u003eExecution in isolated environments\u003c/li\u003e\n\u003cli\u003eStatic analysis of generated code\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eaction_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eenhanced_action_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003ecoding.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eblog.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003ecollaborative_task.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eprompt_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eTroubleshooting Common Issues\u003c/h2\u003e\n\u003ch3\u003eRegistration Failures\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eSymptoms:\u003c/strong\u003e Action not found in registry, \u003ccode\u003eActionException\u003c/code\u003e with \"Action 'action_name' not found\"\n\u003cstrong\u003eCauses and Solutions:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eClass not discovered\u003c/strong\u003e: Ensure the action class is in a module within \u003ccode\u003ecore.actions\u003c/code\u003e and properly imports the \u003ccode\u003eAction\u003c/code\u003e base class\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eInstantiation error\u003c/strong\u003e: Check for exceptions in the \u003ccode\u003e__init__\u003c/code\u003e method; the discovery mechanism logs instantiation errors\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eName collision\u003c/strong\u003e: The registry overwrites actions with duplicate names; check logs for overwrite warnings\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMissing required properties\u003c/strong\u003e: Verify implementation of \u003ccode\u003ename\u003c/code\u003e, \u003ccode\u003edescription\u003c/code\u003e, and \u003ccode\u003eparameters\u003c/code\u003e properties\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eExecution Timeouts\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eSymptoms:\u003c/strong\u003e Actions failing with \"Action timed out\" message\n\u003cstrong\u003eCauses and Solutions:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eLong-running operations\u003c/strong\u003e: The \u003ccode\u003eEnhancedActionManager\u003c/code\u003e enforces a 5-minute timeout; optimize action logic or increase timeout if appropriate\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eBlocking operations\u003c/strong\u003e: Ensure all I/O operations use async patterns; use \u003ccode\u003easyncio.to_thread\u003c/code\u003e for synchronous calls\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eResource constraints\u003c/strong\u003e: Check system resources (CPU, memory, disk I/O) that may slow execution\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003ePermission Issues\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eSymptoms:\u003c/strong\u003e File not found, permission denied, or subprocess execution failures\n\u003cstrong\u003eCauses and Solutions:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eFile access\u003c/strong\u003e: Verify the application has read/write permissions to specified file paths\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDirectory existence\u003c/strong\u003e: Check that directories exist before writing files\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSubprocess execution\u003c/strong\u003e: Ensure Python is in the system PATH and the executing user has permission to run subprocesses\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eAbsolute vs relative paths\u003c/strong\u003e: Use absolute paths or ensure relative paths are correct relative to the working directory\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eParameter Validation Errors\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eSymptoms:\u003c/strong\u003e \u003ccode\u003eInvalidActionParams\u003c/code\u003e exceptions with messages about missing or unexpected parameters\n\u003cstrong\u003eCauses and Solutions:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eMissing required parameters\u003c/strong\u003e: Ensure all parameters marked as \u003ccode\u003erequired: True\u003c/code\u003e are provided\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTypos in parameter names\u003c/strong\u003e: Double-check parameter names match exactly\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eExtra parameters\u003c/strong\u003e: Remove parameters not defined in the action's \u003ccode\u003eparameters\u003c/code\u003e list\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eType mismatches\u003c/strong\u003e: Ensure parameter values match the expected types\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eGeneral Debugging Tips\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eCheck application logs for detailed error messages and stack traces\u003c/li\u003e\n\u003cli\u003eVerify action registration by checking the \"Available Actions\" log output during startup\u003c/li\u003e\n\u003cli\u003eUse the \u003ccode\u003eget_action_definitions\u003c/code\u003e method to inspect registered action schemas\u003c/li\u003e\n\u003cli\u003eTest actions in isolation when possible\u003c/li\u003e\n\u003cli\u003eMonitor the action log database table for execution history and errors\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eSection sources\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eaction_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eaction.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eexceptions.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eenhanced_action_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eThe Action System in the Ravana AGI framework provides a robust, extensible foundation for autonomous behavior. By defining a clear contract through the \u003ccode\u003eAction\u003c/code\u003e base class, implementing a flexible registration mechanism in \u003ccode\u003eActionRegistry\u003c/code\u003e, and orchestrating execution through \u003ccode\u003eActionManager\u003c/code\u003e, the system enables both built-in and custom actions to be seamlessly integrated. The architecture supports various action types including coding, IO, multi-modal, experimental, blog-specific, and now collaborative task actions, allowing the AGI to perform diverse tasks. The recent addition of \u003ccode\u003eCollaborativeTaskAction\u003c/code\u003e enhances the system's cross-system task delegation capabilities, enabling end-to-end collaborative workflows with user feedback mechanisms. The enhanced prompt management system with structured templates and dynamic enhancement significantly improves code generation quality and safety. While the system includes basic security measures like input validation and execution timeouts, additional safeguards would be beneficial for production deployment, particularly around code execution and permission controls. The automatic discovery mechanism and clear implementation guidelines make it straightforward to extend the AGI's capabilities with new actions, supporting the system's goal of continuous learning and adaptation.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eReferenced Files in This Document\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca\u003eaction.py\u003c/a\u003e - \u003cem\u003eBase Action class implementation\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eregistry.py\u003c/a\u003e - \u003cem\u003eActionRegistry with CollaborativeTaskAction registration\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eaction_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003ecoding.py\u003c/a\u003e - \u003cem\u003eEnhanced code generation prompt implementation\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eio.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003emulti_modal.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eexperimental.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eexceptions.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eenhanced_action_manager.py\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eblog.py\u003c/a\u003e - \u003cem\u003eAdded in recent commit\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eblog_api.py\u003c/a\u003e - \u003cem\u003eDependency for BlogPublishAction\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eblog_content_generator.py\u003c/a\u003e - \u003cem\u003eDependency for BlogPublishAction\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003ecollaborative_task.py\u003c/a\u003e - \u003cem\u003eAdded in recent commit\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eDEVELOPER_GUIDE.md\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003eprompt_manager.py\u003c/a\u003e - \u003cem\u003ePrompt management system with enhanced templates\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003ecode_generation.json\u003c/a\u003e - \u003cem\u003eEnhanced code generation prompt template\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca\u003ellm.py\u003c/a\u003e - \u003cem\u003eLLM integration and call handling\u003c/em\u003e\u003c/li\u003e\n\u003c/ul\u003e\n"},"docs":[{"slug":"Action System","title":"Action System"},{"slug":"API Reference","title":"API Reference"},{"slug":"Architecture \u0026 Design","title":"Architecture \u0026 Design"},{"slug":"Configuration","title":"Configuration"},{"slug":"Conversational AI Communication Framework","title":"Conversational AI Communication Framework"},{"slug":"Core System","title":"Core System"},{"slug":"Database Schema","title":"Database Schema"},{"slug":"Decision-Making System","title":"Decision-Making System"},{"slug":"Deployment \u0026 Operations","title":"Deployment \u0026 Operations"},{"slug":"Development Guide","title":"Development Guide"},{"slug":"Emotional Intelligence","title":"Emotional Intelligence"},{"slug":"Enhanced Snake Agent","title":"Enhanced Snake Agent"},{"slug":"Enhanced Snake Agent Architecture","title":"Enhanced Snake Agent Architecture"},{"slug":"Graceful Shutdown","title":"Graceful Shutdown"},{"slug":"LLM Integration","title":"LLM Integration"},{"slug":"Memory Systems","title":"Memory Systems"},{"slug":"Multi-Modal Memory","title":"Multi-Modal Memory"},{"slug":"Project Overview","title":"Project Overview"},{"slug":"Self-Improvement","title":"Self-Improvement"},{"slug":"Services","title":"Services"},{"slug":"Snake Agent Configuration","title":"Snake Agent Configuration"},{"slug":"Specialized Modules-57f9b30b-b165-48d3-8e89-196940d26190","title":"Specialized Modules"},{"slug":"Specialized Modules","title":"Specialized Modules"}]},"__N_SSG":true},"page":"/docs/[slug]","query":{"slug":"Action System"},"buildId":"QHWQNiRZOuW15nbk5-ngt","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>